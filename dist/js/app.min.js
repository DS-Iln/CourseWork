(()=>{"use strict";function e(){window.location.href="registered.html"}function t(){localStorage.setItem("currentUser",JSON.stringify({surname:"",name:"",email:"",password:"",points:0,favorite:[],role:"User",autoAuth:!1})),window.location.href="index.html"}function n(){localStorage.setItem("currentUser",JSON.stringify({surname:"",name:"",email:"",password:"",points:0,favorite:[],role:"User",autoAuth:!1})),window.location.href="index.html"}function r(){let e=unescape(window.location.href);return e.substring(e.lastIndexOf("/")+1,e.length)}r();localStorage.getItem("currentUser")||localStorage.setItem("currentUser",JSON.stringify({surname:"",name:"",email:"",password:"",points:0,favorite:[],role:"User",autoAuth:!1})),"index.html"===r()&&JSON.parse(localStorage.getItem("currentUser")).email?e():"registered.html"!==r()||JSON.parse(localStorage.getItem("currentUser")).email?"registered.html"===r()&&JSON.parse(localStorage.getItem("currentUser")).email?function(){const e=document.querySelectorAll("#persaccount-button"),n=document.querySelectorAll("#logout-button");let r=JSON.parse(localStorage.getItem("currentUser"));r.autoAuth||window.addEventListener("beforeunload",(()=>{localStorage.setItem("currentUser",JSON.stringify({surname:"",name:"",email:"",password:"",points:0,favorite:[],role:"User",autoAuth:!1}))})),e[1].children[1].textContent=`${r.surname} ${r.name[0]}.`,e.forEach((e=>{e.addEventListener("click",(()=>{window.location.href="persAccount.html"}))})),n.forEach((e=>{e.addEventListener("click",t)}))}():"persAccount.html"!==r()||JSON.parse(localStorage.getItem("currentUser")).email?"persAccount.html"===r()&&JSON.parse(localStorage.getItem("currentUser")).email?function(){const e=document.querySelectorAll("#logout-button");JSON.parse(localStorage.getItem("currentUser")).autoAuth||window.addEventListener("beforeunload",(()=>{localStorage.setItem("currentUser",JSON.stringify({surname:"",name:"",email:"",password:"",points:0,favorite:[],role:"User",autoAuth:!1}))})),e.forEach((e=>{e.addEventListener("click",n)}))}():"adminAccount.html"!==r()||JSON.parse(localStorage.getItem("currentUser")).email?"adminAccount.html"===r()&&JSON.parse(localStorage.getItem("currentUser")).email:window.location.href="index.html":window.location.href="index.html":window.location.href="index.html";const l=document.querySelector(".wrapper"),s=document.querySelectorAll("#auth-button"),o=document.querySelectorAll("#registr-button"),a=document.querySelector(".modal-window"),c=document.querySelector(".modal-background"),i=document.querySelector(".modal-registration"),u=document.querySelector(".modal-authorization"),d=document.querySelector("#hint-auth"),m=document.querySelector("#hint-registr"),h=document.querySelectorAll("#close-modal"),f=document.querySelectorAll(".modal__form"),g=document.querySelector("#surname-input"),p=document.querySelector("#name-input"),v=document.querySelectorAll("#email-input"),L=document.querySelectorAll("#password-input"),S=document.querySelector("#agreement"),y=document.querySelector("#entering"),E=document.querySelector(".burger-button"),A=document.querySelector("#close-menuburger"),b=document.querySelector(".menuburger-modal");if("index.html"===r()){function se(){l.style.overflowY="hidden",a.classList.remove("opened"),a.classList.remove("out"),a.classList.add("opened"),q(1)}function oe(){l.style.overflowY="hidden",a.classList.remove("opened"),a.classList.remove("out"),a.classList.add("opened"),C(0)}s[0].addEventListener("click",(()=>{w(),se()})),s[1].addEventListener("click",(()=>{se()})),o[0].addEventListener("click",(()=>{w(),oe()})),o[1].addEventListener("click",(()=>{oe()})),d.addEventListener("click",(e=>{e.preventDefault(),q(1)})),m.addEventListener("click",(e=>{e.preventDefault(),C(1)})),a.addEventListener("click",(e=>{e.target.classList.contains("modal-window")&&N()})),h.forEach((e=>{e.addEventListener("click",N)})),document.addEventListener("keydown",(e=>{27===e.which&&N()}))}function w(){b.classList.add("out"),l.style.overflowY="auto"}function q(e){e?(c.classList.remove("reg"),c.classList.add("auth")):(c.classList.remove("reg"),c.classList.remove("auth")),u.classList.add("rotate"),i.classList.add("rotate"),x()}function C(e){e?(c.classList.remove("auth"),c.classList.add("reg")):(c.classList.remove("reg"),c.classList.remove("auth")),u.classList.remove("rotate"),i.classList.remove("rotate"),x()}function N(){a.classList.add("out"),u.classList.remove("rotate"),i.classList.remove("rotate"),l.style.overflowY="auto",x()}function x(){Array.from(document.forms).forEach((e=>{e.reset()})),g.parentElement.children[0].textContent="Фамилия",g.parentElement.classList.remove("error"),p.parentElement.children[0].textContent="Имя",p.parentElement.classList.remove("error"),v[0].parentElement.children[0].textContent="Email",v[0].parentElement.classList.remove("error"),v[1].parentElement.children[0].textContent="Email",v[1].parentElement.classList.remove("error"),L[0].parentElement.children[0].textContent="Пароль",L[0].parentElement.classList.remove("error"),L[1].parentElement.children[0].textContent="Пароль",L[1].parentElement.classList.remove("error"),S.parentElement.classList.remove("error"),y.parentElement.classList.remove("error")}function k(e){let t=e.target;if(t.classList.contains("modal__form-input")){let e=t.parentElement;e.classList.contains("error")&&(e.classList.remove("error"),"surname"===t.getAttribute("name")&&(e.children[0].textContent="Фамилия"),"name"===t.getAttribute("name")&&(e.children[0].textContent="Имя"),"email"===t.getAttribute("name")&&(e.children[0].textContent="Email"),"password"===t.getAttribute("name")&&(e.children[0].textContent="Пароль")),e.classList.add("focus"),t.onfocus=()=>{e.classList.contains("focus")||e.classList.add("focus")},t.onblur=()=>{e.classList.remove("focus")}}}function I(e){document.body.scrollTo({top:e.offsetTop-15,behavior:"smooth"})}if(E.addEventListener("click",(function(){l.style.overflowY="hidden",b.classList.remove("opened"),b.classList.remove("out"),b.classList.add("opened"),b.addEventListener("click",(e=>{e.target.classList.contains("menuburger-wrapper")&&w()}))})),A.addEventListener("click",w),f.forEach((e=>{e.addEventListener("click",(e=>{k(e)})),e.addEventListener("keyup",(e=>{9===e.which&&k(e)}))})),"index.html"===r()||"registered.html"===r()){const ae=document.querySelector("#about"),ce=document.querySelector("#dict"),ie=document.querySelector("#test"),ue=document.querySelector("#main");document.querySelectorAll(".link:not(#random-link)").forEach((e=>{"О нас"===e.textContent.trim()&&e.addEventListener("click",(e=>{e.preventDefault(),I(ae),w()})),"Словарь"===e.textContent.trim()&&e.addEventListener("click",(e=>{e.preventDefault(),I(ce),w()})),"Тестирование"===e.textContent.trim()&&e.addEventListener("click",(e=>{e.preventDefault(),I(ie),w()})),"Главная"===e.textContent.trim()&&e.addEventListener("click",(e=>{e.preventDefault(),I(ue),w()}))}))}const _=document.querySelector("#surname-input"),O=document.querySelector("#name-input"),U=document.querySelectorAll("#email-input"),J=document.querySelectorAll("#password-input");let T;function z(e){e.classList.contains("error")&&e.classList.remove("error"),T=e.value,/^[А-Я]{1}/.test(T)||(e.value=T.substring(0,T.length-1)),/^[А-Я]{1}[^а-я]/.test(T)&&(e.value=T.substring(0,T.length-1)),/\s/.test(T)&&(e.value=T.substring(0,T.length-1)),T.length>64&&(e.value=T.substring(0,T.length-1))}function D(e){e.classList.contains("error")&&e.classList.remove("error"),e.addEventListener("input",(()=>{T=e.value,/^[^a-zA-Z0-9]/.test(T)&&(e.value=T.substring(0,T.lenght-1)),/\s/.test(T)&&(e.value=T.substring(0,T.length-1)),/[^a-zA-Z0-9]{2}/.test(T)&&(e.value=T.substring(0,T.length-1))}))}if("index.html"===r()&&(_.addEventListener("input",(()=>{z(_)})),O.addEventListener("input",(()=>{z(O)}))),U.forEach((e=>{D(e)})),J.forEach((e=>{D(e)})),"index.html"===r()){const de=document.querySelector("#registration-form"),me=document.querySelector("#surname-input"),he=document.querySelector("#name-input"),fe=document.querySelectorAll("#email-input"),ge=document.querySelectorAll("#password-input"),pe=document.querySelector("#agreement");if(!localStorage.getItem("accounts")){let Se=[{surname:"Systemi",name:"Vrag",email:"AdminKrutoy@gmail.com",password:"qwertyAdmin001",points:99999999,role:"Admin",autoAuth:!1}];localStorage.setItem("accounts",JSON.stringify(Se))}async function ve(e){e.preventDefault();let t=e.target,n=t.children[t.children.length-1];if(Le()){let e=JSON.parse(localStorage.getItem("accounts")),t=new FormData(de),r={};for(let e of t.entries())r[e[0]]=e[1];r.points=0,r.favorite=[],r.autoAuth=!1;for(let t=0;t<e.length;t++)if(e[t].email===r.email)return fe[0].parentElement.classList.add("error"),fe[0].parentElement.children[0].textContent="Данный email-адрес уже зарегистрирован",me.value="",he.value="",ge[0].value="",void(pe.checked=!1);return e.push(r),localStorage.setItem("accounts",JSON.stringify(e)),n.value="Регистрация завершена",n.classList.add("success"),setTimeout((()=>{N(),n.classList.remove("success"),n.value="Зарегистрироваться"}),2e3),void de.reset()}n.value="Ошибка",n.classList.add("failed"),setTimeout((()=>{n.classList.remove("failed"),n.value="Зарегистрироваться"}),2e3),pe.checked=!1}function Le(){let e=0;function t(t,n){let r=n.value.trim();if(!t.test(r)){n.value="";let t=n.parentElement;t.classList.add("error"),"surname"!==n.getAttribute("name")&&"name"!==n.getAttribute("name")||(t.children[0].textContent="Только буквы русского алфавита"),"email"===n.getAttribute("name")&&(t.children[0].textContent='Имя почтового ящика, @, доменное имя (раздел. ".")'),"password"===n.getAttribute("name")&&(t.children[0].textContent="Минимум 8 символов, 1 буква лат. алфавита и 1 цифра"),e++}return e}return t(/^[А-ЯёЁ]{1}[а-я]{1}[а-я]+$/,he),t(/^[А-ЯёЁ]{1}[а-я]{1}[а-я]+$/,me),t(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,fe[0]),t(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,ge[0]),!(e>0)}de.addEventListener("submit",ve)}if("index.html"===r()){const ye=document.querySelector("#authorization-form"),Ee=document.querySelectorAll("#email-input"),Ae=document.querySelectorAll("#password-input"),be=document.querySelector("#entering");async function we(t){t.preventDefault();let n=t.target,r=n.children[n.children.length-1];if(qe()){let t,n=JSON.parse(localStorage.getItem("accounts")),l=new FormData(ye),s={};for(let e of l.entries())s[e[0]]=e[1];let o={email:!1,password:!1};for(let e=0;e<n.length;e++)n[e].email===s.email&&n[e].password===s.password?(t=n[e],o.email=!0,o.password=!0):n[e].email===s.email?o.email=!0:n[e].password===s.password&&(o.password=!0);return o.email&&!o.password?(Ae[1].parentElement.classList.add("error"),Ae[1].parentElement.children[0].textContent="Неверный пароль",Ae[1].value="",void(be.checked=!1)):o.email&&o.password?(s.checkbox&&(t.autoAuth=!0),localStorage.setItem("currentUser",JSON.stringify(t)),r.value="Авторизация завершена",r.classList.add("success"),setTimeout((()=>{e(),N(),r.classList.remove("success"),r.value="Войти"}),2e3),void ye.reset()):(Ee[1].parentElement.classList.add("error"),Ee[1].parentElement.children[0].textContent="Пользователь с данным email-адресом не найден",Ae[1].value="",void(be.checked=!1))}r.value="Ошибка",r.classList.add("failed"),setTimeout((()=>{r.classList.remove("failed"),r.value="Войти"}),2e3),be.checked=!1}function qe(){let e=0;function t(t,n){let r=n.value.trim();if(!t.test(r)){n.value="";let t=n.parentElement;t.classList.add("error"),"email"===n.getAttribute("name")&&(t.children[0].textContent='Имя почтового ящика, @, доменное имя (раздел. ".")'),"password"===n.getAttribute("name")&&(t.children[0].textContent="Минимум 8 символов, 1 буква лат. алфавита и 1 цифра"),e++}return e}return t(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Ee[1]),t(/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,Ae[1]),!(e>0)}ye.addEventListener("submit",we)}var M,Z,$,B,H,j,V,Y,P;for(B=(M=document.getElementsByClassName("custom-select")).length,Z=0;Z<B;Z++){for(H=(j=M[Z].getElementsByTagName("select")[0]).length,(V=document.createElement("DIV")).className="select-selected",V.innerHTML=j.options[j.selectedIndex].innerHTML,M[Z].appendChild(V),(Y=document.createElement("DIV")).className="select-items select-hide",$=1;$<H;$++)(P=document.createElement("DIV")).innerHTML=j.options[$].innerHTML,P.addEventListener("click",(function(e){var t,n,r,l,s,o,a;for(o=(l=this.parentNode.parentNode.getElementsByTagName("select")[0]).length,s=this.parentNode.previousSibling,n=0;n<o;n++)if(l.options[n].innerHTML==this.innerHTML){for(l.selectedIndex=n,s.innerHTML=this.innerHTML,a=(t=this.parentNode.getElementsByClassName("same-as-selected")).length,r=0;r<a;r++)t[r].removeAttribute("class");this.setAttribute("class","same-as-selected");break}s.click()})),Y.appendChild(P);M[Z].appendChild(Y),V.addEventListener("click",(function(e){e.stopPropagation(),R(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")}))}function R(e){var t,n,r,l,s,o=[];for(t=document.getElementsByClassName("select-items"),n=document.getElementsByClassName("select-selected"),l=t.length,s=n.length,r=0;r<s;r++)e==n[r]?o.push(r):n[r].classList.remove("select-arrow-active");for(r=0;r<l;r++)o.indexOf(r)&&t[r].classList.add("select-hide")}function F(e){for(;e.firstChild;)e.removeChild(e.firstChild)}if(document.addEventListener("click",(e=>{let t=e.target;(t.classList.contains("content-block")||t.classList.contains("dict__filtering-block")||t.classList.contains("filters")||t.classList.contains("wrapper")||t.classList.contains("dictionary-block__dict")||t.classList.contains("main")||t.classList.contains("cards-items")||t.classList.contains("card-item"))&&R()})),"index.html"===r()||"registered.html"===r()){const Ce=document.querySelector(".select-selected"),Ne=document.querySelector(".select-items"),xe=document.querySelectorAll(".filters-input"),ke=document.querySelectorAll("#search-input"),Ie=document.querySelector(".filters-button"),_e=document.querySelectorAll("datalist"),Oe=document.querySelector(".search-block__search-bar"),Ue=document.querySelector(".cards-items"),Je=document.querySelector("#dict"),Te=document.querySelector("#random-link");function ze(e,t){Number(e.value)>t&&(e.value=t),Number(e.value)<1&&(e.value="")}function De(e,t){for(let n=0;n<t.length;n++){const r=document.createElement("option");r.value=t[n][0],e.append(r)}}function Me(e){let t=e.length;if(t>0)if("registered.html"===r()){if(t>=200)for(let t=1;t<201;t++)re(!0,e[t][0],e[t][1]);else for(let n=1;n<t+1;n++)re(!0,e[n-1][0],e[n-1][1]);if(t>200){const n=function(){ne(!0,e,t)};Ue.onscroll=n}}else{if(t>=200)for(let t=1;t<201;t++)re(!1,e[t][0],e[t][1]);else for(let n=1;n<t+1;n++)re(!1,e[n-1][0],e[n-1][1]);if(t>200){const n=function(){ne(!1,e,t)};Ue.onscroll=n}}else{const e=document.createElement("p");e.className="empty-warning",e.textContent="По выбранным фильтрам совпадений не найдено",Ue.append(e)}}function Ze(e){e.preventDefault(),Ue.onscroll=null,Ue.scrollTop=0,"words1"===e.target.getAttribute("list")?(F(_e[0]),document.querySelector(".header").classList.contains("reduced")?(document.querySelector(".header").classList.toggle("default"),document.querySelector(".header").classList.toggle("reduced"),setTimeout((()=>{Be(e)}),600)):Be(e)):Be(e)}function $e(){Ce.textContent="Выбрать";for(let e=0;e<Ne.children.length;e++)Ne.children[e].hasAttribute("class")&&Ne.children[e].removeAttribute("class");xe[0].value="",xe[1].value="",ke[0].value="",ke[1].value=""}function Be(e){le("../dist/files/dictionary_compact.json").then((t=>{F(Ue);const n=Object.entries(t),l=n.length;let s=n,o=Ce.textContent.trim().toLowerCase();if(!("выбрать"!==o||xe[0].value||xe[1].value||ke[0].value||ke[1].value)){if(F(Ue),"registered.html"===r()){for(let e=1;e<201;e++)re(!0,n[e][0],n[e][1]);const e=function(){ne(!0,n,l)};return Ue.onscroll=e,void $e()}{for(let e=1;e<201;e++)re(!1,n[e][0],n[e][1]);const e=function(){ne(!1,n,l)};return Ue.onscroll=e,void $e()}}"words1"===e.target.getAttribute("list")&&I(Je),"выбрать"!==o&&(s=s.filter((e=>e[0][0]===o)));let a,c=xe[0].value,i=xe[1].value;if((c||i)&&(!c&&i&&(s=s.filter((e=>e[0].length<=+i))),c&&!i&&(s=s.filter((e=>e[0].length>=+c))),c&&i&&(s=+c==+i?s.filter((e=>e[0].length===+c)):s.filter((e=>e[0].length>=+c&&e[0].length<=+i)))),ke[0].value&&(a=ke[0].value),ke[1].value&&(a=ke[1].value),a){s=[];for(let e=n.length-1;e>=0;e--)(n[e][0]===a||n[e][0].includes(a))&&s.push(n[e])}Me(s),$e()}))}function He(e){"Enter"===e.code&&Ze(e)}Oe.addEventListener("click",(function(e){(e.target.classList.contains("search-block__search-bar")||e.target.classList.contains("search-block__search-input")||e.target.classList.contains("search-keyhint"))&&(document.querySelector(".header").classList.contains("default")&&document.querySelector(".header").classList.toggle("default"),document.querySelector(".header").classList.contains("reduced")||(document.querySelector(".header").classList.toggle("reduced"),setTimeout((()=>{ke[0].focus()}),600)))})),ke[0].addEventListener("blur",(()=>{document.querySelector(".header").classList.contains("reduced")&&(document.querySelector(".header").classList.toggle("default"),document.querySelector(".header").classList.toggle("reduced"))})),ke[1].addEventListener("blur",(()=>{F(_e[1])})),document.body.addEventListener("scroll",(function(){let e=document.querySelectorAll("input[list]");for(let t=0;t<e.length;t++)e[t].blur()})),xe.forEach((e=>{e.addEventListener("input",(()=>{ze(e,+xe[1].placeholder.slice(-2))}))})),le("../dist/files/dictionary_compact.json").then((e=>{const t=Object.entries(e);ke.forEach((e=>{e.addEventListener("input",(n=>{let r=e===ke[0]?_e[0]:_e[1],l=n.target.value;if(F(r),/^[^a-z]/.test(l)&&(l=l.substr(0,l.length-1)),/[^a-z-\s]/.test(l)&&(l=l.substr(0,l.length-1)),/\s\s/.test(l)&&(l=l.substr(0,l.length-1)),n.target.value=l,1===l.length){let e=[];for(let n=t.length-1;n>=0;n--)t[n][0].slice(0,1)===l&&t[n][0]!==l&&e.push(t[n]);De(r,e)}if(2===l.length){let e=[];for(let n=t.length-1;n>=0;n--)t[n][0].slice(0,2)===l&&t[n][0]!==l&&e.push(t[n]);De(r,e)}if(l.length>2){let e=[];for(let n=t.length-1;n>=0;n--)t[n][0].includes(l)&&t[n][0]!==l&&e.push(t[n]);De(r,e)}}))})),Te.addEventListener("click",(e=>{e.preventDefault();let n=(r=1,l=t.length,r=Math.ceil(r),l=Math.floor(l),Math.floor(Math.random()*(l-r+1))+r);var r,l;ke[0].value=t[n][0],ke[0].focus()}))})),ke[0].onkeydown=ke[0].onkeypress=He,Ie.addEventListener("click",Ze)}const W="http://www.w3.org/2000/svg",G=document.querySelector(".cards-items"),K=document.querySelectorAll(".filters-input")[1];let Q=201,X=Q+200+1;const ee=function(){const e=document.createElementNS(W,"svg");e.setAttribute("class","card-item__save-icon"),e.setAttributeNS(null,"width","33"),e.setAttributeNS(null,"height","39"),e.setAttributeNS(null,"viewBox","0 0 33 39"),e.setAttributeNS(null,"fill","none");const t=document.createElementNS(W,"path");return t.setAttributeNS(null,"d","M32 6V4C32 2.34315 30.6569 1 29 1V1M29 1C28.3201 1 26.6305 1 26 1L21 1C15.7814 1 9.99672 1 5.99671 1C3.23528 1 1 3.23858 1 6V36.9733C1 37.8022 1.95059 38.2712 2.60843 37.7669L12.3916 30.2665C12.7505 29.9913 13.2495 29.9913 13.6084 30.2665L23.4202 37.7888C24.0728 38.2891 25.0165 37.8417 25.0282 37.0195C25.1184 30.6753 25.3937 11.1724 25.3937 9.5C25.3937 7.5 25 3.5 29 1Z"),t.setAttributeNS(null,"stroke","#4E3636"),e.append(t),e}(),te=function(){const e=document.createElement("button");e.className="card-item__button",e.classList.add("button"),e.setAttribute("id","more-button");const t=document.createElement("span");t.className="button-span",t.textContent="Показать больше";const n=document.createElementNS(W,"svg");n.setAttribute("class","button-icon"),n.setAttributeNS(null,"fill","none");const r=document.createElementNS(W,"path");return r.setAttributeNS(null,"d","M1.87272 5.93481L5.65489 2.05828L9.4312 5.92971L10.4346 4.90114L5.65489 0.000121117L0.86935 4.90624L1.87272 5.93481Z"),r.setAttributeNS(null,"fill","#4E3636"),n.append(r),e.append(t),e.append(n),e}();function ne(e,t,n){if(G.offsetHeight+G.scrollTop>=G.scrollHeight){if(e)for(let e=Q;e<X;e++)re(!0,t[e][0],t[e][1]);else for(let e=Q;e<X;e++)re(!1,t[e][0],t[e][1]);X===n&&(G.onscroll=null),Q=X,X=X+200+1>n?n:X+200+1}}function re(e,t,n){let r=document.createElement("div");if(r.className="cards-items__card-item",r.classList.add("card-item"),e){r.classList.add("reged");let e=ee.cloneNode(!0);r.append(e)}let l=document.createElement("h3");l.className="card-item__title",l.textContent=`${t}`,l.setAttribute("title",`${t.capitalize()}`);let s=JSON.parse(localStorage.getItem("currentUser")).favorite;for(let e=0;e<s.length;e++)s[e][0]===l.textContent&&r.children[0].classList.add("active");let o=document.createElement("img");o.className="card-item__separator",o.setAttribute("src","img/Rectangle31.svg"),o.setAttribute("alt","Separator");let a=document.createElement("p");a.className="card-item__definition",a.textContent=`${n}`,r.append(l),r.append(o),r.append(a),G.append(r);let c=G.lastChild,i=c.children;if(i[i.length-1].textContent.length>299){let e=te.cloneNode(!0);c.append(e),c.lastChild.addEventListener("click",(()=>{c.classList.toggle("deployed"),c.lastChild.children[0].textContent=c.classList.contains("deployed")?"Свернуть":"Показать больше"}))}}async function le(e){const t=await fetch(e);return await t.json()}if("index.html"!==r()&&"registered.html"!==r()||window.addEventListener("DOMContentLoaded",(()=>{le("../dist/files/dictionary_compact.json").then((e=>{const t=Object.entries(e),n=t.length;let l=t[0][0].length;if(t.forEach((e=>{e[0].length>l&&(l=e[0].length)})),K.placeholder=`до ${l}`,F(G),"registered.html"===r()){for(let e=1;e<201;e++)re(!0,t[e][0],t[e][1]);const e=function(){ne(!0,t,n)};G.onscroll=e}else{for(let e=1;e<201;e++)re(!1,t[e][0],t[e][1]);const e=function(){ne(!1,t,n)};G.onscroll=e}}))})),"registered.html"===r()){function je(e){let t=e.children,n=JSON.parse(localStorage.getItem("currentUser")),r=n.favorite;if(t[0].classList.contains("active"))for(let e=0;e<r.length;e++)r[e][0]===t[1].textContent&&r.splice(e,1);else t.length>4?r.push([t[1].textContent,t[t.length-2].textContent]):r.push([t[1].textContent,t[t.length-1].textContent]);let l=JSON.parse(localStorage.getItem("accounts"));for(let e=0;e<l.length;e++)l[e].email===n.email&&(l[e]=n,l[e].autoAuth=!1);localStorage.setItem("accounts",JSON.stringify(l)),localStorage.setItem("currentUser",JSON.stringify(n)),t[0].classList.toggle("active")}document.querySelector(".cards-items").addEventListener("click",(e=>{let t=e.target;t.parentElement.classList.contains("card-item__save-icon")&&je(t.parentElement.parentElement),t.classList.contains("card-item__save-icon")&&je(t.parentElement)}))}r(),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),Object.defineProperty(String.prototype,"capitalize",{value:function(){return this.charAt(0).toUpperCase()+this.slice(1)},enumerable:!1})})();
