/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./source/js/app.js":
/*!**************************!*\
  !*** ./source/js/app.js ***!
  \**************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_functions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/functions.js */ \"./source/js/modules/functions.js\");\n/* harmony import */ var _modules_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/autoAuthorizate.js */ \"./source/js/modules/autoAuthorizate.js\");\n/* harmony import */ var _modules_scroll_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/scroll.js */ \"./source/js/modules/scroll.js\");\n/* harmony import */ var _modules_modals_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/modals.js */ \"./source/js/modules/modals.js\");\n/* harmony import */ var _modules_inputValidation_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modules/inputValidation.js */ \"./source/js/modules/inputValidation.js\");\n/* harmony import */ var _modules_regForm_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./modules/regForm.js */ \"./source/js/modules/regForm.js\");\n/* harmony import */ var _modules_authForm_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./modules/authForm.js */ \"./source/js/modules/authForm.js\");\n/* harmony import */ var _modules_customSelect_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./modules/customSelect.js */ \"./source/js/modules/customSelect.js\");\n/* harmony import */ var _modules_createCards_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./modules/createCards.js */ \"./source/js/modules/createCards.js\");\n/* harmony import */ var _modules_filtration_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./modules/filtration.js */ \"./source/js/modules/filtration.js\");\n/* harmony import */ var _modules_knowledgeTesting_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./modules/knowledgeTesting.js */ \"./source/js/modules/knowledgeTesting.js\");\n/* harmony import */ var _modules_personalAccount_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./modules/personalAccount.js */ \"./source/js/modules/personalAccount.js\");\n/* harmony import */ var _modules_favorite_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./modules/favorite.js */ \"./source/js/modules/favorite.js\");\n\r\n_modules_functions_js__WEBPACK_IMPORTED_MODULE_0__.isWebp();\r\n\r\n\r\nif ((0,_modules_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_1__.htmlName)() === 'persAccount.html' || (0,_modules_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_1__.htmlName)() === 'adminAccount.html') {\r\n    document.body.style.overflowY = 'auto';\r\n} else {\r\n    // Loader\r\n    const loader = document.querySelector('.loader-wrapper');\r\n    setTimeout(() => {\r\n        loader.classList.toggle('closed');\r\n        document.body.style.overflowY = 'auto';\r\n        setTimeout(() => {\r\n            loader.classList.toggle('_hidden');\r\n        }, 650);\r\n    }, 2000);\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://coursework/./source/js/app.js?");

/***/ }),

/***/ "./source/js/modules/authForm.js":
/*!***************************************!*\
  !*** ./source/js/modules/authForm.js ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _createAuthorizatedpage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./createAuthorizatedpage.js */ \"./source/js/modules/createAuthorizatedpage.js\");\n/* harmony import */ var _autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./autoAuthorizate.js */ \"./source/js/modules/autoAuthorizate.js\");\n\r\n\r\n\r\nif ((0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_1__.htmlName)() !== 'perAccount.html' && (0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_1__.htmlName)() !== 'registered.html') {\r\n    const form = document.querySelector('#authorization-form'),\r\n        emailInputs = document.querySelectorAll('#email-input'),\r\n        passwordInputs = document.querySelectorAll('#password-input'),\r\n        checkInput = document.querySelector('#entering');\r\n\r\n    form.addEventListener('submit', authorizateFormdata);\r\n\r\n    async function authorizateFormdata(e) {\r\n        e.preventDefault();\r\n        let submitForm = e.target;\r\n        let submitButton = submitForm.children[submitForm.children.length - 1];\r\n\r\n        if (validateForm()) {\r\n            let accounts = JSON.parse(localStorage.getItem('accounts'));\r\n            let formData = new FormData(form);\r\n            let obj = {}, currentUserid;\r\n\r\n            for(let item of formData.entries()) {\r\n                obj[item[0]] = item[1];\r\n            }\r\n\r\n            let correctData = {\r\n                email: false,\r\n                password: false\r\n            };\r\n            for (let i = 0; i < accounts.length; i++) {\r\n                if (accounts[i].email === obj.email && accounts[i].password === obj.password) {\r\n                    currentUserid = accounts[i];\r\n                    correctData.email = true;\r\n                    correctData.password = true;\r\n                } else if (accounts[i].email === obj.email) {\r\n                    correctData.email = true;\r\n                } else if (accounts[i].password === obj.password) {\r\n                    correctData.password = true;\r\n                }\r\n            }\r\n\r\n            if (correctData.email && !correctData.password) {\r\n                passwordInputs[1].parentElement.classList.add('error');\r\n                passwordInputs[1].parentElement.children[0].textContent = 'Неверный пароль';\r\n                passwordInputs[1].value = '';\r\n                checkInput.checked = false;\r\n            } else if (correctData.email && correctData.password) {\r\n                if (obj.checkbox) {\r\n                    currentUserid.autoAuth = true;\r\n                } else {\r\n                    currentUserid.autoAuth = false;\r\n                }\r\n                localStorage.setItem('currentUser', JSON.stringify(currentUserid));\r\n\r\n                submitButton.value = 'Авторизация завершена';\r\n                submitButton.classList.add('success');\r\n                setTimeout(() => {\r\n                    (0,_createAuthorizatedpage_js__WEBPACK_IMPORTED_MODULE_0__.locateTo)();\r\n                }, 2000);\r\n\r\n                return;\r\n            } else {\r\n                emailInputs[1].parentElement.classList.add('error');\r\n                emailInputs[1].parentElement.children[0].textContent = 'Пользователь с данным email-адресом не найден';\r\n                passwordInputs[1].value = '';\r\n                checkInput.checked = false;\r\n            }\r\n        }\r\n\r\n        submitButton.value = 'Ошибка';\r\n        submitButton.classList.add('failed');\r\n        setTimeout(() => {\r\n            submitButton.classList.remove('failed');\r\n            submitButton.value = 'Войти';\r\n        }, 2000);\r\n        checkInput.checked = false;\r\n    };\r\n\r\n    function validateForm() {\r\n        let errors = 0;\r\n\r\n        validateInput(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/, emailInputs[1]);\r\n        validateInput(/^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/, passwordInputs[1]);\r\n\r\n        function validateInput(pattern, input) {\r\n            let inputValue = input.value.trim();\r\n            if (!pattern.test(inputValue)) {\r\n                input.value = '';\r\n                let parent = input.parentElement;\r\n                parent.classList.add('error');\r\n\r\n                if (input.getAttribute('name') === 'email') {\r\n                    parent.children[0].textContent = 'Имя почтового ящика, @, доменное имя (раздел. \".\")';\r\n                }\r\n                if (input.getAttribute('name') === 'password') {\r\n                    parent.children[0].textContent = 'Минимум 8 символов, 1 буква лат. алфавита и 1 цифра';\r\n                }\r\n\r\n                errors++;\r\n            }\r\n\r\n            return errors;\r\n        };\r\n\r\n        if (errors > 0) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    };\r\n}\n\n//# sourceURL=webpack://coursework/./source/js/modules/authForm.js?");

/***/ }),

/***/ "./source/js/modules/autoAuthorizate.js":
/*!**********************************************!*\
  !*** ./source/js/modules/autoAuthorizate.js ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"htmlName\": () => (/* binding */ htmlName)\n/* harmony export */ });\n/* harmony import */ var _createAuthorizatedpage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./createAuthorizatedpage.js */ \"./source/js/modules/createAuthorizatedpage.js\");\n\r\n\r\nfunction htmlName() {\r\n    let st = unescape(window.location.href);\r\n    let i = false;\r\n    let r = st.substring(st.lastIndexOf('/') + 1, st.length);\r\n    \r\n    return r;\r\n};\r\n\r\nlet currentUser = {\r\n    surname: '',\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    points: {\r\n        completedTests: [],\r\n        pointsCount: 0\r\n    },\r\n    favorite: [],\r\n    role: 'User',\r\n    autoAuth: false\r\n};\r\n\r\nif (!localStorage.getItem('currentUser')) {\r\n    localStorage.setItem('currentUser', JSON.stringify(currentUser));\r\n}\r\n\r\nif (htmlName() !== 'perAccount.html' && htmlName() !== 'registered.html' && JSON.parse(localStorage.getItem('currentUser')).email) {\r\n    _createAuthorizatedpage_js__WEBPACK_IMPORTED_MODULE_0__.locateTo();\r\n} else if (htmlName() === 'registered.html' && !JSON.parse(localStorage.getItem('currentUser')).email) {\r\n    window.location.href = 'index.html';\r\n} else if (htmlName() === 'registered.html' && JSON.parse(localStorage.getItem('currentUser')).email) {\r\n    _createAuthorizatedpage_js__WEBPACK_IMPORTED_MODULE_0__.constructPage();\r\n} else if (htmlName() === 'persAccount.html' && !JSON.parse(localStorage.getItem('currentUser')).email) {\r\n    window.location.href = 'index.html';\r\n} else if (htmlName() === 'adminAccount.html' && !JSON.parse(localStorage.getItem('currentUser')).email) {\r\n    window.location.href = 'index.html';\r\n}\n\n//# sourceURL=webpack://coursework/./source/js/modules/autoAuthorizate.js?");

/***/ }),

/***/ "./source/js/modules/createAuthorizatedpage.js":
/*!*****************************************************!*\
  !*** ./source/js/modules/createAuthorizatedpage.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"constructPage\": () => (/* binding */ constructPage),\n/* harmony export */   \"locateTo\": () => (/* binding */ locateTo)\n/* harmony export */ });\nfunction locateTo() { \r\n    window.location.href = 'registered.html';\r\n};\r\n\r\nfunction constructPage() {\r\n    const persaccountButtons = document.querySelectorAll('#persaccount-button'),\r\n          persaccountfooterLink = document.querySelector('.persaccLink'),\r\n          logoutButtons = document.querySelectorAll('#logout-button');\r\n    let currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n    if (!currentUser.autoAuth) {\r\n        window.onbeforeunload = () => {\r\n            localStorage.setItem('currentUser', JSON.stringify({\r\n                surname: '',\r\n                name: '',\r\n                email: '',\r\n                password: '',\r\n                points: 0,\r\n                favorite: [],\r\n                role: 'User',\r\n                autoAuth: false\r\n            }));\r\n        };\r\n    }\r\n\r\n    persaccountButtons[1].children[1].textContent = `${currentUser.surname} ${currentUser.name[0]}.`;\r\n    persaccountButtons.forEach((elem) => {\r\n        elem.addEventListener('click', gotoPers);\r\n    })\r\n    persaccountfooterLink.addEventListener('click', gotoPers);\r\n    function gotoPers(e) {\r\n        e.preventDefault();\r\n        window.onbeforeunload = null;\r\n        if (currentUser.role === 'Admin') {\r\n            window.location.href = 'adminAccount.html';\r\n        } else {\r\n            window.location.href = 'persAccount.html';\r\n        }\r\n    };\r\n\r\n    logoutButtons.forEach((elem) => {\r\n        elem.addEventListener('click', logout);\r\n    })\r\n};\r\n\r\nfunction logout() {\r\n    let currentUser = {\r\n        surname: '',\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        points: 0,\r\n        favorite: [],\r\n        role: 'User',\r\n        autoAuth: false\r\n    };\r\n    localStorage.setItem('currentUser', JSON.stringify(currentUser));\r\n    window.location.href = 'index.html';\r\n};\n\n//# sourceURL=webpack://coursework/./source/js/modules/createAuthorizatedpage.js?");

/***/ }),

/***/ "./source/js/modules/createCards.js":
/*!******************************************!*\
  !*** ./source/js/modules/createCards.js ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"constructCard\": () => (/* binding */ constructCard),\n/* harmony export */   \"constructOnscroll\": () => (/* binding */ constructOnscroll),\n/* harmony export */   \"getData\": () => (/* binding */ getData)\n/* harmony export */ });\n/* harmony import */ var _autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./autoAuthorizate.js */ \"./source/js/modules/autoAuthorizate.js\");\n/* harmony import */ var _filtration_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./filtration.js */ \"./source/js/modules/filtration.js\");\n\r\n\r\n\r\nconst xmlns = 'http://www.w3.org/2000/svg',\r\n      cardsBlock = document.querySelector('.cards-items'),\r\n      filterinput2 = document.querySelectorAll('.filters-input')[1];\r\n\r\nlet cardscountInitial = 201,\r\n    cardscountFinal = cardscountInitial + 200 + 1;\r\n\r\nconst saveIcon = (function createSaveicon() {\r\n    const saveiconSvg = document.createElementNS(xmlns, 'svg');\r\n    saveiconSvg.setAttribute('class', 'card-item__save-icon');\r\n    saveiconSvg.setAttributeNS(null, 'width', '33');\r\n    saveiconSvg.setAttributeNS(null, 'height', '39');\r\n    saveiconSvg.setAttributeNS(null, 'viewBox', '0 0 33 39');\r\n    saveiconSvg.setAttributeNS(null, 'fill', 'none');\r\n\r\n    const path = document.createElementNS(xmlns, 'path');\r\n    path.setAttributeNS(null, 'd', 'M32 6V4C32 2.34315 30.6569 1 29 1V1M29 1C28.3201 1 26.6305 1 26 1L21 1C15.7814 1 9.99672 1 5.99671 1C3.23528 1 1 3.23858 1 6V36.9733C1 37.8022 1.95059 38.2712 2.60843 37.7669L12.3916 30.2665C12.7505 29.9913 13.2495 29.9913 13.6084 30.2665L23.4202 37.7888C24.0728 38.2891 25.0165 37.8417 25.0282 37.0195C25.1184 30.6753 25.3937 11.1724 25.3937 9.5C25.3937 7.5 25 3.5 29 1Z');\r\n    path.setAttributeNS(null, 'stroke', '#4E3636');\r\n\r\n    saveiconSvg.append(path);\r\n\r\n    return saveiconSvg;\r\n}());\r\n\r\nconst moreButton = (function createMorebutton() {\r\n    const morebutton = document.createElement('button');\r\n    morebutton.className = 'card-item__button';\r\n    morebutton.classList.add('button');\r\n    morebutton.setAttribute('id', 'more-button');\r\n\r\n    const span = document.createElement('span');\r\n    span.className = 'button-span';\r\n    span.textContent = 'Показать больше';\r\n\r\n    const svg = document.createElementNS(xmlns, 'svg');\r\n    svg.setAttribute('class', 'button-icon');\r\n    svg.setAttributeNS(null, 'fill', 'none');\r\n\r\n    const path = document.createElementNS(xmlns, 'path');\r\n    path.setAttributeNS(null, 'd', 'M1.87272 5.93481L5.65489 2.05828L9.4312 5.92971L10.4346 4.90114L5.65489 0.000121117L0.86935 4.90624L1.87272 5.93481Z');\r\n    path.setAttributeNS(null, 'fill', '#4E3636');\r\n\r\n    svg.append(path);\r\n    morebutton.append(span);\r\n    morebutton.append(svg);\r\n\r\n    return morebutton;\r\n}());\r\n\r\nfunction constructOnscroll(registered, wordsCollection, wordscollectionLen) {\r\n    if (cardsBlock.offsetHeight + cardsBlock.scrollTop >= cardsBlock.scrollHeight) { \r\n        if (registered) {\r\n            for (let i = cardscountInitial; i < cardscountFinal; i++) {\r\n                constructCard(true, wordsCollection[i][0], wordsCollection[i][1]);\r\n            }\r\n        } else {\r\n            for (let i = cardscountInitial; i < cardscountFinal; i++) {\r\n                constructCard(false, wordsCollection[i][0], wordsCollection[i][1]);\r\n            }\r\n        }\r\n        \r\n        if (cardscountFinal === wordscollectionLen) {\r\n            cardsBlock.onscroll = null;\r\n        }\r\n\r\n        cardscountInitial = cardscountFinal;\r\n        cardscountFinal = cardscountFinal + 200 + 1 > wordscollectionLen ? wordscollectionLen : cardscountFinal + 200 + 1;\r\n    }  \r\n};\r\n\r\nfunction constructCard(registered, wordTitle, definition) {\r\n    let cardItem = document.createElement('div');\r\n    cardItem.className = 'cards-items__card-item';\r\n    cardItem.classList.add('card-item');\r\n\r\n    let currentUserdata = JSON.parse(localStorage.getItem('currentUser')), currentUserfavorites = currentUserdata.favorite;\r\n\r\n    if (registered && currentUserfavorites) {\r\n        cardItem.classList.add('reged');\r\n        let saveiconCopy = saveIcon.cloneNode(true);\r\n        cardItem.append(saveiconCopy);\r\n    }\r\n\r\n    let title = document.createElement('h3');\r\n    title.className = 'card-item__title';\r\n    title.textContent = `${wordTitle}`;\r\n    title.setAttribute('title', `${wordTitle}`);\r\n    \r\n    if (currentUserfavorites) {\r\n        for (let i = 0; i < currentUserfavorites.length; i++) {\r\n            if (currentUserfavorites[i][0] === title.textContent) {\r\n                cardItem.children[0].classList.add('active');\r\n            }\r\n        }\r\n    }\r\n\r\n    let img = document.createElement('img');\r\n    img.className = 'card-item__separator';\r\n    img.setAttribute('src', 'img/Rectangle31.svg');\r\n    img.setAttribute('alt', 'Separator');\r\n\r\n    let article = document.createElement('p');\r\n    article.className = 'card-item__definition';\r\n    article.textContent = `${definition}`;\r\n\r\n    cardItem.append(title);\r\n    cardItem.append(img);\r\n    cardItem.append(article);\r\n    \r\n    cardsBlock.append(cardItem);\r\n    \r\n    let cardsblockLastchild = cardsBlock.lastChild;\r\n    let lastchildChildren = cardsblockLastchild.children;\r\n\r\n    if (lastchildChildren[lastchildChildren.length - 1].textContent.length > 299) {\r\n        let morebuttonCopy = moreButton.cloneNode(true);\r\n        cardsblockLastchild.append(morebuttonCopy);\r\n        \r\n        cardsblockLastchild.lastChild.addEventListener('click', () => {\r\n            cardsblockLastchild.classList.toggle('deployed');\r\n            cardsblockLastchild.lastChild.children[0].textContent = cardsblockLastchild.classList.contains('deployed') ? 'Свернуть' : 'Показать больше';\r\n        })\r\n    }\r\n};\r\n\r\nasync function getData(url) {\r\n    const response = await fetch(url);\r\n    \r\n    return await response.json();\r\n};\r\n\r\n\r\n\r\nif (((0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() !== 'perAccount.html' && (0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() !== 'registered.html') || (0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() === 'registered.html') {\r\n    window.addEventListener('DOMContentLoaded', () => {\r\n        getData('dist/files/dictionary_compact.json')\r\n            .then((data) => {\r\n                const wordsCollection = Object.entries(data);\r\n                const wordscollectionLen = wordsCollection.length;\r\n                let maxwordLen = wordsCollection[0][0].length;\r\n    \r\n                wordsCollection.forEach((elem) => {\r\n                    if (elem[0].length > maxwordLen) {\r\n                        maxwordLen = elem[0].length;\r\n                    }\r\n                })\r\n                filterinput2.placeholder = `до ${maxwordLen}`;\r\n                \r\n                (0,_filtration_js__WEBPACK_IMPORTED_MODULE_1__.removeAllChildNodes)(cardsBlock);\r\n                if ((0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() === 'registered.html') {\r\n                    for (let i = 1; i < 201; i++) {\r\n                        constructCard(true, wordsCollection[i][0], wordsCollection[i][1]);\r\n                    }\r\n    \r\n                    const passfuncDeftrue = function() {\r\n                        constructOnscroll(true, wordsCollection, wordscollectionLen);\r\n                    };\r\n                    cardsBlock.onscroll = passfuncDeftrue;\r\n                } else {\r\n                    for (let i = 1; i < 201; i++) {\r\n                        constructCard(false, wordsCollection[i][0], wordsCollection[i][1]);\r\n                    }\r\n    \r\n                    const passfuncDeffalse = function() {\r\n                        constructOnscroll(false, wordsCollection, wordscollectionLen);\r\n                    };\r\n                    cardsBlock.onscroll = passfuncDeffalse;      \r\n                }\r\n            });\r\n    })\r\n}\n\n//# sourceURL=webpack://coursework/./source/js/modules/createCards.js?");

/***/ }),

/***/ "./source/js/modules/customSelect.js":
/*!*******************************************!*\
  !*** ./source/js/modules/customSelect.js ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\nvar x, i, j, l, ll, selElmnt, a, b, c;\r\n/* Look for any elements with the class \"custom-select\": */\r\nx = document.getElementsByClassName(\"custom-select\");\r\nl = x.length;\r\nfor (i = 0; i < l; i++) {\r\n  selElmnt = x[i].getElementsByTagName(\"select\")[0];\r\n  ll = selElmnt.length;\r\n  /* For each element, create a new DIV that will act as the selected item: */\r\n  a = document.createElement(\"DIV\");\r\n  a.className = \"select-selected\";\r\n  a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;\r\n  x[i].appendChild(a);\r\n  /* For each element, create a new DIV that will contain the option list: */\r\n  b = document.createElement(\"DIV\");\r\n  b.className = \"select-items select-hide\";\r\n  for (j = 1; j < ll; j++) {\r\n    /* For each option in the original select element,\r\n    create a new DIV that will act as an option item: */\r\n    c = document.createElement(\"DIV\");\r\n    c.innerHTML = selElmnt.options[j].innerHTML;\r\n    c.addEventListener(\"click\", function(e) {\r\n        /* When an item is clicked, update the original select box,\r\n        and the selected item: */\r\n        var y, i, k, s, h, sl, yl;\r\n        s = this.parentNode.parentNode.getElementsByTagName(\"select\")[0];\r\n        sl = s.length;\r\n        h = this.parentNode.previousSibling;\r\n        for (i = 0; i < sl; i++) {\r\n          if (s.options[i].innerHTML == this.innerHTML) {\r\n            s.selectedIndex = i;\r\n            h.innerHTML = this.innerHTML;\r\n            y = this.parentNode.getElementsByClassName(\"same-as-selected\");\r\n            yl = y.length;\r\n            for (k = 0; k < yl; k++) {\r\n              y[k].removeAttribute(\"class\");\r\n            }\r\n            this.setAttribute(\"class\", \"same-as-selected\");\r\n            break;\r\n          }\r\n        }\r\n        h.click();\r\n    });\r\n    b.appendChild(c);\r\n  }\r\n  x[i].appendChild(b);\r\n  a.addEventListener(\"click\", function(e) {\r\n    /* When the select box is clicked, close any other select boxes,\r\n    and open/close the current select box: */\r\n    e.stopPropagation();\r\n    closeAllSelect(this);\r\n    this.nextSibling.classList.toggle(\"select-hide\");\r\n    this.classList.toggle(\"select-arrow-active\");\r\n  });\r\n}\r\n\r\nfunction closeAllSelect(elmnt) {\r\n  /* A function that will close all select boxes in the document,\r\n  except the current select box: */\r\n  var x, y, i, xl, yl, arrNo = [];\r\n  x = document.getElementsByClassName(\"select-items\");\r\n  y = document.getElementsByClassName(\"select-selected\");\r\n  xl = x.length;\r\n  yl = y.length;\r\n  for (i = 0; i < yl; i++) {\r\n    if (elmnt == y[i]) {\r\n      arrNo.push(i)\r\n    } else {\r\n      y[i].classList.remove(\"select-arrow-active\");\r\n    }\r\n  }\r\n  for (i = 0; i < xl; i++) {\r\n    if (arrNo.indexOf(i)) {\r\n      x[i].classList.add(\"select-hide\");\r\n    }\r\n  }\r\n}\r\n\r\n/* If the user clicks anywhere outside the select box,\r\nthen close all select boxes: */\r\ndocument.addEventListener('click', (e) => {\r\n    closeAllSelect();\r\n    if (!e.target.classList.contains('testing-block__link') && !e.target.classList.contains('testblock-bestresults') && !e.target.classList.contains('results-list__item') && !e.target.classList.contains('results-list') && !e.target.classList.contains('testblock-bestresults__title') && !e.target.classList.contains('item-points') && !e.target.classList.contains('item-points__img')) {\r\n      let bestresultsBlock = document.querySelector('.testblock-bestresults');\r\n      if (bestresultsBlock) bestresultsBlock.classList.remove('opened');\r\n    }\r\n});\n\n//# sourceURL=webpack://coursework/./source/js/modules/customSelect.js?");

/***/ }),

/***/ "./source/js/modules/favorite.js":
/*!***************************************!*\
  !*** ./source/js/modules/favorite.js ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./autoAuthorizate.js */ \"./source/js/modules/autoAuthorizate.js\");\n/* harmony import */ var _createCards_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./createCards.js */ \"./source/js/modules/createCards.js\");\n/* harmony import */ var _filtration_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./filtration.js */ \"./source/js/modules/filtration.js\");\n\r\n\r\n\r\n\r\nconst cardsBlock = document.querySelector('.cards-items');\r\nif ((0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() === 'registered.html' || (0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() === 'persAccount.html') {\r\n    cardsBlock.addEventListener('click', (e) => {\r\n        let touch = e.target;\r\n\r\n        if (touch.parentElement.classList.contains('card-item__save-icon')) {\r\n            addTofavorite(touch.parentElement.parentElement);\r\n        }\r\n        if (touch.classList.contains('card-item__save-icon')) {\r\n            addTofavorite(touch.parentElement);\r\n        }\r\n    });\r\n\r\n    function addTofavorite(card) {\r\n        let cardChilds = card.children, currentUserdata = JSON.parse(localStorage.getItem('currentUser')), currentUserfavorites = currentUserdata.favorite;\r\n\r\n        if (cardChilds[0].classList.contains('active')) {\r\n            for (let i = 0; i < currentUserfavorites.length; i++) {\r\n                if (currentUserfavorites[i][0] === cardChilds[1].textContent) {\r\n                    currentUserfavorites.splice(i, 1);\r\n                }\r\n            }\r\n        } else {\r\n            if (cardChilds.length > 4) {\r\n                currentUserfavorites.push([cardChilds[1].textContent, cardChilds[cardChilds.length - 2].textContent]);\r\n            } else {\r\n                currentUserfavorites.push([cardChilds[1].textContent, cardChilds[cardChilds.length - 1].textContent]);\r\n            }\r\n        }\r\n        let usersData = JSON.parse(localStorage.getItem('accounts'));\r\n        for (let i = 0; i < usersData.length; i++) {\r\n            if (usersData[i].email === currentUserdata.email) {\r\n                usersData[i] = currentUserdata;\r\n            }\r\n        }\r\n        localStorage.setItem('accounts', JSON.stringify(usersData));\r\n        localStorage.setItem('currentUser', JSON.stringify(currentUserdata));\r\n\r\n        cardChilds[0].classList.toggle('active');\r\n    };\r\n}\r\nif ((0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() === 'persAccount.html') {\r\n    const userFavorite = JSON.parse(localStorage.getItem('currentUser')).favorite;\r\n\r\n    (0,_filtration_js__WEBPACK_IMPORTED_MODULE_2__.removeAllChildNodes)(cardsBlock);\r\n    for (let i = 0; i < userFavorite.length; i++) {\r\n        (0,_createCards_js__WEBPACK_IMPORTED_MODULE_1__.constructCard)(true, userFavorite[i][0], userFavorite[i][1]);\r\n    }\r\n}\n\n//# sourceURL=webpack://coursework/./source/js/modules/favorite.js?");

/***/ }),

/***/ "./source/js/modules/filtration.js":
/*!*****************************************!*\
  !*** ./source/js/modules/filtration.js ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"removeAllChildNodes\": () => (/* binding */ removeAllChildNodes)\n/* harmony export */ });\n/* harmony import */ var _autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./autoAuthorizate.js */ \"./source/js/modules/autoAuthorizate.js\");\n/* harmony import */ var _createCards_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./createCards.js */ \"./source/js/modules/createCards.js\");\n/* harmony import */ var _scroll_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./scroll.js */ \"./source/js/modules/scroll.js\");\n\r\n\r\n\r\n\r\nfunction removeAllChildNodes(parent) {\r\n    while (parent.firstChild) {\r\n        parent.removeChild(parent.firstChild);\r\n    }\r\n};\r\n\r\nif (((0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() !== 'perAccount.html' && (0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() !== 'registered.html') || (0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() === 'registered.html') {\r\n    const filterSelect = document.querySelector('.select-selected'),\r\n          selectList = document.querySelector('.select-items'),\r\n          filterInputs = document.querySelectorAll('.filters-input'),\r\n          searchInputs = document.querySelectorAll('#search-input'),\r\n          filterButton = document.querySelector('.filters-button'),\r\n          dataLists = document.querySelectorAll('datalist'),\r\n          searchBlock = document.querySelector('.search-block__search-bar'),\r\n          cardsBlock = document.querySelector('.cards-items'),\r\n          dictionaryBlock = document.querySelector('#dict'),\r\n        //   searchButton = document.querySelector('.search-button'),\r\n          randomButton = document.querySelector('#random-link');\r\n    \r\n    function minmaxInput(elem, maxNum) {\r\n        if (Number(elem.value) > maxNum) elem.value = maxNum;\r\n        if (Number(elem.value) < 1) elem.value = '';\r\n    };\r\n\r\n    function fillDatalist(datalist, arr) {\r\n        for (let i = 0; i < arr.length; i++) {\r\n            const option = document.createElement('option');\r\n            option.value = arr[i][0];\r\n\r\n            datalist.append(option);\r\n        }\r\n    };\r\n\r\n    function renderCards(filteredData) {\r\n        let filtereddataLen = filteredData.length;\r\n        if (filtereddataLen > 0) {\r\n            if ((0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() === 'registered.html') {\r\n                if (filtereddataLen >= 200) {\r\n                    for (let i = 1; i < 201; i++) {\r\n                        (0,_createCards_js__WEBPACK_IMPORTED_MODULE_1__.constructCard)(true, filteredData[i][0], filteredData[i][1]);\r\n                    }\r\n                } else {\r\n                    for (let i = 1; i < filtereddataLen + 1; i++) {\r\n                        (0,_createCards_js__WEBPACK_IMPORTED_MODULE_1__.constructCard)(true, filteredData[i - 1][0], filteredData[i - 1][1]);\r\n                    }\r\n                }\r\n                \r\n                if (filtereddataLen > 200) {\r\n                    const passfuncFilteredTrue = function() {\r\n                        (0,_createCards_js__WEBPACK_IMPORTED_MODULE_1__.constructOnscroll)(true, filteredData, filtereddataLen);\r\n                    };\r\n                    cardsBlock.onscroll = passfuncFilteredTrue;\r\n                }\r\n            } else {\r\n                if (filtereddataLen >= 200) {\r\n                    for (let i = 1; i < 201; i++) {\r\n                        (0,_createCards_js__WEBPACK_IMPORTED_MODULE_1__.constructCard)(false, filteredData[i][0], filteredData[i][1]);\r\n                    }\r\n                } else {\r\n                    for (let i = 1; i < filtereddataLen + 1; i++) {\r\n                        (0,_createCards_js__WEBPACK_IMPORTED_MODULE_1__.constructCard)(false, filteredData[i - 1][0], filteredData[i - 1][1]);\r\n                    }\r\n                }\r\n                \r\n                if (filtereddataLen > 200) {\r\n                    const passfuncFilteredFalse = function() {\r\n                        (0,_createCards_js__WEBPACK_IMPORTED_MODULE_1__.constructOnscroll)(false, filteredData, filtereddataLen);\r\n                    };\r\n                    cardsBlock.onscroll = passfuncFilteredFalse;\r\n                } \r\n            }\r\n        } else {\r\n            const warning = document.createElement('p');\r\n            warning.className = 'empty-warning';\r\n            warning.textContent = 'По выбранным фильтрам совпадений не найдено';\r\n\r\n            cardsBlock.append(warning);\r\n        }\r\n    };\r\n\r\n    function search(e) {\r\n        e.preventDefault();\r\n\r\n        cardsBlock.onscroll = null;\r\n        cardsBlock.scrollTop = 0;\r\n\r\n        if (e.target.getAttribute('list') === 'words1') {\r\n            removeAllChildNodes(dataLists[0]);\r\n            if (document.querySelector('.header').classList.contains('reduced')) {\r\n                document.querySelector('.header').classList.toggle('default');\r\n                document.querySelector('.header').classList.toggle('reduced');\r\n                setTimeout(() => {requestWithActions(e)}, 600);\r\n            } else {\r\n                requestWithActions(e);\r\n            }\r\n        } else {\r\n            requestWithActions(e);\r\n        }\r\n    };\r\n\r\n    function resetFilters() {\r\n        // Reset\r\n        filterSelect.textContent = 'Выбрать';\r\n        for (let i = 0; i < selectList.children.length; i++) {\r\n            if (selectList.children[i].hasAttribute('class')) {\r\n                selectList.children[i].removeAttribute('class');\r\n            }\r\n        }\r\n        filterInputs[0].value = '';\r\n        filterInputs[1].value = '';\r\n        searchInputs[0].value = '';\r\n        searchInputs[1].value = '';\r\n    };\r\n\r\n    function requestWithActions(e) {\r\n        (0,_createCards_js__WEBPACK_IMPORTED_MODULE_1__.getData)('dist/files/dictionary_compact.json')\r\n            .then((data) => {\r\n                removeAllChildNodes(cardsBlock);\r\n                \r\n                const wordsCollection = Object.entries(data);\r\n                const wordscollectionLen = wordsCollection.length;\r\n                let filteredData = wordsCollection;\r\n\r\n                let selectValue = filterSelect.textContent.trim().toLowerCase();\r\n                \r\n                // Reset\r\n                if (selectValue === 'выбрать' && !filterInputs[0].value && !filterInputs[1].value && !searchInputs[0].value && !searchInputs[1].value) {\r\n                    removeAllChildNodes(cardsBlock);\r\n                    if ((0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() === 'registered.html') {\r\n                        for (let i = 1; i < 201; i++) {\r\n                            (0,_createCards_js__WEBPACK_IMPORTED_MODULE_1__.constructCard)(true, wordsCollection[i][0], wordsCollection[i][1]);\r\n                        }\r\n                        \r\n                        const passfuncDeftrue = function() {\r\n                            (0,_createCards_js__WEBPACK_IMPORTED_MODULE_1__.constructOnscroll)(true, wordsCollection, wordscollectionLen);\r\n                        };\r\n                        cardsBlock.onscroll = passfuncDeftrue;\r\n\r\n                        resetFilters();\r\n\r\n                        return;\r\n                    } else {\r\n                        for (let i = 1; i < 201; i++) {\r\n                            (0,_createCards_js__WEBPACK_IMPORTED_MODULE_1__.constructCard)(false, wordsCollection[i][0], wordsCollection[i][1]);\r\n                        }\r\n\r\n                        const passfuncDeffalse = function() {\r\n                            (0,_createCards_js__WEBPACK_IMPORTED_MODULE_1__.constructOnscroll)(false, wordsCollection, wordscollectionLen);\r\n                        };\r\n                        cardsBlock.onscroll = passfuncDeffalse;\r\n\r\n                        resetFilters();\r\n\r\n                        return;\r\n                    }\r\n                }\r\n\r\n                if (e.target.getAttribute('list') === 'words1') {\r\n                    (0,_scroll_js__WEBPACK_IMPORTED_MODULE_2__.scrollToelement)(dictionaryBlock, 15);\r\n                }\r\n\r\n                if (selectValue !== 'выбрать') {\r\n                    filteredData = filteredData.filter(elem => elem[0][0] === selectValue);\r\n                }\r\n\r\n                let start = filterInputs[0].value, end = filterInputs[1].value;\r\n                if (start || end) {\r\n                    if (!start && end) {\r\n                        filteredData = filteredData.filter(elem => elem[0].length <= +end);\r\n                    }\r\n\r\n                    if (start && !end) {\r\n                        filteredData = filteredData.filter(elem => elem[0].length >= +start);\r\n                    }\r\n\r\n                    if (start && end) {\r\n                        if (+start === +end) {                  \r\n                            filteredData = filteredData.filter(elem => elem[0].length === +start);\r\n                        } else {\r\n                            filteredData = filteredData.filter(elem => elem[0].length >= +start && elem[0].length <= +end);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                let value;\r\n                if (searchInputs[0].value) {\r\n                    value = searchInputs[0].value;\r\n                }\r\n                if (searchInputs[1].value) {\r\n                    value = searchInputs[1].value;\r\n                }\r\n                if (value) {\r\n                    filteredData = [];\r\n                    for (let i = wordsCollection.length - 1; i >= 0; i--) { \r\n                        if (wordsCollection[i][0] === value || wordsCollection[i][0].includes(value)) {\r\n                            filteredData.push(wordsCollection[i]);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                renderCards(filteredData);\r\n                \r\n                resetFilters();\r\n            })\r\n    };\r\n    \r\n    function handleKey(e) {\r\n        if (e.which === 13) search(e);\r\n    };\r\n\r\n    function getRandomIntInclusive(min, max) {\r\n        min = Math.ceil(min);\r\n        max = Math.floor(max);\r\n        return Math.floor(Math.random() * (max - min + 1)) + min;\r\n    };\r\n\r\n\r\n    // Focus input when searchblock clicked\r\n    searchBlock.addEventListener('click', function(e) {\r\n        if (e.target.classList.contains('search-block__search-bar') || e.target.classList.contains('search-block__search-input') || e.target.classList.contains('search-keyhint')) {\r\n            if (document.querySelector('.header').classList.contains('default')) {\r\n                document.querySelector('.header').classList.toggle('default');\r\n            }\r\n            if (!document.querySelector('.header').classList.contains('reduced')) {\r\n                document.querySelector('.header').classList.toggle('reduced');\r\n                setTimeout(() => {searchInputs[0].focus();}, 600);\r\n            }\r\n        }\r\n    });\r\n\r\n    searchInputs[0].addEventListener('blur', () => {\r\n        if (document.querySelector('.header').classList.contains('reduced')) {\r\n            document.querySelector('.header').classList.toggle('default');\r\n            document.querySelector('.header').classList.toggle('reduced');\r\n        }\r\n    });\r\n\r\n    searchInputs[1].addEventListener('blur', () => {\r\n        removeAllChildNodes(dataLists[1]);\r\n    });\r\n\r\n    // Hide datalist while scrolling\r\n    document.body.addEventListener('scroll', function() {\r\n        let inputs = document.querySelectorAll('input[list]');\r\n        for (let i = 0; i < inputs.length; i++) {\r\n            inputs[i].blur();\r\n        }\r\n    });\r\n    \r\n    filterInputs.forEach((elem) => {\r\n        elem.addEventListener('input', () => { \r\n            minmaxInput(elem, +filterInputs[1].placeholder.slice(-2));\r\n        });\r\n    })\r\n\r\n    ;(0,_createCards_js__WEBPACK_IMPORTED_MODULE_1__.getData)('dist/files/dictionary_compact.json')\r\n        .then((data) => {\r\n            const wordsCollection = Object.entries(data);\r\n\r\n            searchInputs.forEach((elem) => {\r\n                elem.addEventListener('input', (e) => {\r\n                    let check = elem === searchInputs[0] ? dataLists[0] : dataLists[1], value = e.target.value;\r\n                    removeAllChildNodes(check);\r\n\r\n                    if (/^[^a-z]/.test(value)) {\r\n                        value = value.substr(0, value.length - 1);\r\n                    }\r\n                    if (/[^a-z-\\s]/.test(value)) {      \r\n                        value = value.substr(0, value.length - 1);\r\n                    }\r\n                    if (/\\s\\s/.test(value)) {\r\n                        value = value.substr(0, value.length - 1);\r\n                    }\r\n                   \r\n                    e.target.value = value;\r\n        \r\n                    if (value.length === 1) {\r\n                        let filteredArr = [];\r\n                        for (let i = wordsCollection.length - 1; i >= 0; i--) { \r\n                            if (wordsCollection[i][0].slice(0, 1) === value  && wordsCollection[i][0] !== value) {\r\n                                filteredArr.push(wordsCollection[i]);\r\n                            }\r\n                        }\r\n\r\n                        fillDatalist(check, filteredArr);\r\n                    }\r\n            \r\n                    if (value.length === 2) {\r\n                        let filteredArr = [];\r\n                        for (let i = wordsCollection.length - 1; i >= 0; i--) { \r\n                            if (wordsCollection[i][0].slice(0, 2) === value  && wordsCollection[i][0] !== value) {\r\n                                filteredArr.push(wordsCollection[i]);\r\n                            }\r\n                        }\r\n\r\n                        fillDatalist(check, filteredArr);\r\n                    }\r\n            \r\n                    if (value.length > 2) {\r\n                        let filteredArr = [];\r\n                        for (let i = wordsCollection.length - 1; i >= 0; i--) { \r\n                            if (wordsCollection[i][0].includes(value) && wordsCollection[i][0] !== value) {\r\n                                filteredArr.push(wordsCollection[i]);\r\n                            }\r\n                        }\r\n\r\n                        fillDatalist(check, filteredArr);\r\n                    }\r\n                });      \r\n            })\r\n\r\n            randomButton.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                let randomNum = getRandomIntInclusive(1, wordsCollection.length);\r\n                \r\n                searchInputs[0].value = wordsCollection[randomNum][0];\r\n\r\n                searchInputs[0].focus();\r\n            });\r\n        })\r\n\r\n    searchInputs[0].onkeydown = searchInputs[0].onkeypress = handleKey;\r\n\r\n    filterButton.addEventListener('click', search);\r\n}\n\n//# sourceURL=webpack://coursework/./source/js/modules/filtration.js?");

/***/ }),

/***/ "./source/js/modules/functions.js":
/*!****************************************!*\
  !*** ./source/js/modules/functions.js ***!
  \****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isWebp\": () => (/* binding */ isWebp)\n/* harmony export */ });\nfunction isWebp() {\r\n    // Проверка поддержки\r\n    function testWebP(callback) {\r\n        let webP = new Image();\r\n        webP.onload = webP.onerror = function () {\r\n            callback(webP.height == 2);\r\n        };\r\n        webP.src = \"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA\";\r\n    }\r\n\r\n    // Добавление классов _webp или _no-webp\r\n    testWebP(function(support) {\r\n        let className = support === true ? 'webp' : 'no-webp';\r\n        document.documentElement.classList.add(className);\r\n    });\r\n}\n\n//# sourceURL=webpack://coursework/./source/js/modules/functions.js?");

/***/ }),

/***/ "./source/js/modules/inputValidation.js":
/*!**********************************************!*\
  !*** ./source/js/modules/inputValidation.js ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./autoAuthorizate.js */ \"./source/js/modules/autoAuthorizate.js\");\n\r\n\r\nconst surnameInput = document.querySelector('#surname-input'),\r\n      nameInput = document.querySelector('#name-input'),\r\n      emailInputs = document.querySelectorAll('#email-input'),\r\n      passwordInputs = document.querySelectorAll('#password-input');\r\n\r\nlet inputValue;\r\n\r\nif ((0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() !== 'perAccount.html' && (0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() !== 'registered.html') {\r\n    surnameInput.addEventListener('input', () => {\r\n        ruswordCheck(surnameInput);\r\n    });\r\n    \r\n    nameInput.addEventListener('input', () => {\r\n        ruswordCheck(nameInput);\r\n    });\r\n\r\n    function ruswordCheck(elemInput) {\r\n        if (elemInput.classList.contains('error')) elemInput.classList.remove('error');\r\n        \r\n        inputValue = elemInput.value;\r\n        if (!/^[А-Я]{1}/.test(inputValue) || /^[А-Я]{1}[^а-я]/.test(inputValue) || /^[А-Я]{1}[а-я]+[^а-я]+$/.test(inputValue) || /\\s/.test(inputValue) || inputValue.length > 40) {\r\n            elemInput.value = inputValue.substr(0, inputValue.length - 1);\r\n        }\r\n    };\r\n    \r\n    emailInputs.forEach((elem) => {\r\n        emailCheck(elem);\r\n    })\r\n    \r\n    passwordInputs.forEach((elem) => {\r\n        passwordCheck(elem);\r\n    })\r\n    \r\n    function emailCheck(elemInput) {\r\n        if (elemInput.classList.contains('error')) elemInput.classList.remove('error');\r\n    \r\n        elemInput.addEventListener('input', () => {\r\n            inputValue = elemInput.value;\r\n            if (!/^[a-zA-Z0-9]{1}/.test(inputValue) || /^[a-zA-Z0-9]{1}[^a-zA-Z0-9-@\\._]/.test(inputValue) || /^[a-zA-Z0-9]{1}[a-zA-Z0-9-@\\._]+[^a-zA-Z0-9-@\\._]+$/.test(inputValue) || /[-@\\._]{2}/.test(inputValue) || /\\s/.test(inputValue) || /[@][a-z0-9-_\\.]+[@]/.test(inputValue)) {\r\n                elemInput.value = inputValue.substr(0, inputValue.length - 1);\r\n            }\r\n        });\r\n    };\r\n    \r\n    function passwordCheck(elemInput) {\r\n        if (elemInput.classList.contains('error')) elemInput.classList.remove('error');\r\n    \r\n        elemInput.addEventListener('input', () => {\r\n            inputValue = elemInput.value;\r\n            if (!/^[a-zA-Z0-9]{1}/.test(inputValue) || /^[a-zA-Z0-9]{1}[^a-zA-Z0-9]/.test(inputValue) || /^[a-zA-Z0-9]{1}[a-zA-Z0-9]+[^a-zA-Z0-9]+$/.test(inputValue) || /\\s/.test(inputValue)) {\r\n                elemInput.value = inputValue.substr(0, inputValue.length - 1);\r\n            }\r\n        });\r\n    };\r\n}\r\n\n\n//# sourceURL=webpack://coursework/./source/js/modules/inputValidation.js?");

/***/ }),

/***/ "./source/js/modules/knowledgeTesting.js":
/*!***********************************************!*\
  !*** ./source/js/modules/knowledgeTesting.js ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./autoAuthorizate.js */ \"./source/js/modules/autoAuthorizate.js\");\n/* harmony import */ var _filtration_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./filtration.js */ \"./source/js/modules/filtration.js\");\n\r\n\r\n\r\nif ((0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() === 'registered.html') {\r\n      const nextButton = document.querySelector('#continue-testing'),\r\n            skipButton = document.querySelector('#skip-task'),\r\n            specWord = document.querySelector('.special-word'),\r\n            answersBlock = document.querySelector('.answers-block'),\r\n            testblockBanner = document.querySelector('.testblock-banner'),\r\n            taskTitle = document.querySelector('.testing-block__task-title'),\r\n            resultsLink = document.querySelector('#best-results'),\r\n            bestresultsBlock = document.querySelector('.testblock-bestresults'),\r\n            resultsList = document.querySelector('.results-list');\r\n\r\n      testblockBanner.classList.toggle('_hidden');\r\n      \r\n      const initialTests = [\r\n            {\r\n                  testType: 'radio',\r\n                  word: 'Catamaran',\r\n                  answer: 'Any vessel with twin hulls, whether propelled by sails or by steam; esp., one of a class of double-hulled pleasure boats remarkable for speed.',\r\n                  incorrectAnswers: [\r\n                        'The caravel of the 16th century was a small vessel with broad bows, high, narrow poop, four masts, and lateen sails.',\r\n                        'A war vessel, ranking next below a frigate, and having usually only one tier of guns; -- called in the United States navy a sloop of war.',\r\n                        'A light and elegantly furnished vessel, used either for private parties of pleasure, or as a vessel of state to convey distinguished persons from one place to another; a seagoing vessel used only for pleasure trips, racing, etc.'\r\n                  ]\r\n            },\r\n            {\r\n                  testType: 'radio',\r\n                  word: 'Acceptance',\r\n                  answer: 'The act of accepting; a receiving what is offered, with approbation, satisfaction, or acquiescence; esp., favorable reception; approval; as, the acceptance of a gift, office, doctrine, etc. They shall come up with acceptance on mine altar. Isa. lx. 7. 2. State of being accepted; acceptableness. \"Makes it assured of acceptance.\" Shak.',\r\n                  incorrectAnswers: [\r\n                        'An act or instance of working or acting together for a common purpose or benefit; joint action.',\r\n                        'The identification of something as having been previously seen, heard, known, etc.',\r\n                        'The act of allowing to enter; entrance granted by permission, by provision or existence of pecuniary means, or by the removal of obstacles.'\r\n                  ]\r\n            },\r\n            {\r\n                  testType: 'checkbox',\r\n                  word: 'Elegant',\r\n                  answer: [\r\n                        'Very choice, and hence, pleasing to good taste; characterized by grace, propriety, and refinement, and the absence of every thing offensive; exciting admiration and approbation by symmetry, completeness, freedom from blemish, and the like; graceful; tasteful and highly attractive.',\r\n                        'Exercising a nice choice; discriminating beauty or sensitive to beauty.'\r\n                  ],\r\n                  incorrectAnswers: [\r\n                        'Having an attractive, well-proportioned, and imposing appearance suggestive of health and strength.',\r\n                        'Characterized by elegance or beauty of form, manner, movement, or speech.'\r\n                  ]\r\n            }\r\n      ];\r\n\r\n      let correctAnswer;\r\n      function renderTest(testsData, counter) {\r\n            taskTitle.textContent = `Задание №${counter+1}`;\r\n            specWord.textContent = testsData[counter].word;\r\n\r\n            let type, listofAnswers;\r\n            (0,_filtration_js__WEBPACK_IMPORTED_MODULE_1__.removeAllChildNodes)(answersBlock);\r\n            if (testsData[counter].testType === 'radio') {\r\n                  type = 'radio';\r\n                  listofAnswers = [\r\n                        {num:1, body:testsData[counter].answer}, \r\n                        {num:2, body:testsData[counter].incorrectAnswers[0]},\r\n                        {num:3, body:testsData[counter].incorrectAnswers[1]},\r\n                        {num:4, body:testsData[counter].incorrectAnswers[2]},\r\n                  ];\r\n            } else {\r\n                  type = 'checkbox';\r\n                  listofAnswers = [\r\n                        {num:1, body:testsData[counter].answer[0]}, \r\n                        {num:2, body:testsData[counter].answer[1]}, \r\n                        {num:3, body:testsData[counter].incorrectAnswers[0]},\r\n                        {num:4, body:testsData[counter].incorrectAnswers[1]}\r\n                  ],\r\n                  correctAnswer = [];\r\n            }\r\n\r\n            for (let i = 0; i < 4; i++) {\r\n                  const input = document.createElement('input');\r\n                  input.setAttribute('id', `${i+1}`);\r\n                  if (type === 'radio') {\r\n                        input.setAttribute('type', 'radio');\r\n                        input.setAttribute('name', 'radio-answer');\r\n                        input.classList.add('answers-block__answer-radio');\r\n                  } else {\r\n                        input.setAttribute('type', 'checkbox');\r\n                        input.classList.add('answers-block__answer-checkbox');\r\n                  }\r\n                  \r\n                  const label = document.createElement('label');\r\n                  label.setAttribute('for', `${i+1}`);\r\n                  label.classList.add('answers-block__answer-label');\r\n                  const span = document.createElement('span');\r\n                  let j = listofAnswers.length * Math.random() | 0;\r\n                  if (type === 'radio' && listofAnswers[j].num === 1) {\r\n                        correctAnswer = i + 1;\r\n                  } else if (type === 'checkbox' && listofAnswers[j].num === 1 || type === 'checkbox' && listofAnswers[j].num === 2) {\r\n                        correctAnswer.push(i + 1);\r\n                  }\r\n                  span.textContent = listofAnswers[j].body;\r\n                  listofAnswers.splice(j, 1);\r\n\r\n                  answersBlock.append(input);\r\n                  answersBlock.append(label);\r\n                  label.append(span);\r\n            }\r\n      };\r\n\r\n      function nextTest(testsData, counter) {\r\n            skipButton.disabled = false;\r\n            nextButton.disabled = true;\r\n\r\n            renderTest(testsData, counter);\r\n      };\r\n\r\n      if (!localStorage.getItem('tests')) {\r\n            localStorage.setItem('tests', JSON.stringify(initialTests));\r\n      }\r\n\r\n      const testsData = JSON.parse(localStorage.getItem('tests')), testsdataLen = testsData.length;\r\n      let counter = 0;\r\n      renderTest(testsData, counter);\r\n      \r\n      answersBlock.addEventListener('click', (e) => {\r\n            let touch = e.target;\r\n\r\n            if (touch.classList.contains('answers-block__answer-radio')) {\r\n                  if (+touch.getAttribute('id') === correctAnswer) {\r\n                        touch.classList.add('correct');\r\n                  } else {\r\n                        touch.classList.add('incorrect');\r\n                  }\r\n\r\n                  let inputsCollection = document.querySelectorAll('.answers-block__answer-radio');\r\n                  inputsCollection.forEach((elem) => {\r\n                        if (!elem.classList.contains('correct')) {\r\n                              elem.disabled = true;\r\n                        }\r\n                        if (+elem.getAttribute('id') === correctAnswer && !elem.classList.contains('correct')) {\r\n                              elem.classList.add('discorrect');\r\n                        }\r\n                  })\r\n                  \r\n                  if (!skipButton.disabled) skipButton.disabled = true;\r\n                  if (nextButton.disabled) nextButton.disabled = false;\r\n\r\n                  if (nextButton.onclick !== 'null') {\r\n                        nextButton.onclick = null;\r\n                        nextButton.onclick = () => {\r\n                              earnPoints();\r\n                              handfuncNext();\r\n                        };\r\n                  }\r\n            } else {\r\n                  if (!skipButton.disabled) skipButton.disabled = true;\r\n                  if (nextButton.disabled) nextButton.disabled = false;\r\n\r\n                  if (!document.querySelectorAll('.answers-block__answer-checkbox:checked').length) {\r\n                        skipButton.disabled = false;\r\n                        nextButton.disabled = true;\r\n                  }\r\n                   \r\n                  if (nextButton.onclick !== 'null') {\r\n                        nextButton.onclick = () => {\r\n                              let inputsCollection = document.querySelectorAll('.answers-block__answer-checkbox');\r\n                              inputsCollection.forEach((elem) => {\r\n                                    if (elem.checked) {\r\n                                          if (+elem.getAttribute('id') === correctAnswer[0] || +elem.getAttribute('id') === correctAnswer[1]) {\r\n                                                elem.classList.add('correct');\r\n                                          } else {\r\n                                                elem.classList.add('incorrect');\r\n                                          }\r\n                                    }\r\n\r\n                                    if (+elem.getAttribute('id') === correctAnswer[0] && !elem.classList.contains('correct') || +elem.getAttribute('id') === correctAnswer[1] && !elem.classList.contains('correct')) {\r\n                                          elem.classList.add('discorrect');\r\n                                    }\r\n                                    elem.disabled = true;\r\n                              })\r\n      \r\n                              earnPoints();\r\n                              setTimeout(handfuncNext, 2500);\r\n\r\n                              nextButton.blur();\r\n                        };\r\n                  }\r\n            }\r\n      });\r\n\r\n      skipButton.addEventListener('click', handfuncNext);\r\n\r\n      function handfuncNext() {\r\n            counter++;\r\n            if (counter === testsdataLen) {\r\n                  const testsBlock = document.querySelector('.tests');\r\n                  (0,_filtration_js__WEBPACK_IMPORTED_MODULE_1__.removeAllChildNodes)(testsBlock);\r\n                  taskTitle.textContent = `Задание №0`;\r\n                  const title = document.createElement('h3');\r\n                  title.className = 'warning-block__title';\r\n                  title.textContent = 'Вы завершили прохождение всех тестовых заданий';\r\n                  testsBlock.append(title);\r\n\r\n                  return;\r\n            }\r\n            nextTest(testsData, counter);\r\n\r\n            return counter;\r\n      };\r\n\r\n      function earnPoints() {\r\n            let incorrectInputs = document.querySelectorAll('.incorrect'),\r\n                accounts = JSON.parse(localStorage.getItem('accounts')),\r\n                currentuserData = JSON.parse(localStorage.getItem('currentUser')),\r\n                testNum = +taskTitle.textContent.slice(-1);\r\n\r\n            if (incorrectInputs.length === 0) {\r\n                  if (!currentuserData.points.completedTests.includes(testNum)) {\r\n                        currentuserData.points.completedTests.push(testNum);\r\n                        currentuserData.points.pointsCount++;\r\n                  }\r\n            }\r\n\r\n            localStorage.setItem('currentUser', JSON.stringify(currentuserData));\r\n            for (let i = 0; i < accounts.length; i++) {\r\n                  if (accounts[i].email === currentuserData.email) {\r\n                        accounts[i] = currentuserData;\r\n                  }\r\n            }\r\n            localStorage.setItem('accounts', JSON.stringify(accounts));\r\n      };\r\n\r\n      resultsLink.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n            bestresultsBlock.classList.toggle('opened');\r\n            constructBestresults();\r\n      });\r\n\r\n      function constructBestresults() {\r\n            const usersData = JSON.parse(localStorage.getItem('accounts'));\r\n\r\n            let usersResults = [];\r\n            usersData.forEach((elem) => {\r\n                  usersResults.push({\r\n                        name : elem.name,\r\n                        surname: elem.surname,\r\n                        points: elem.points.pointsCount\r\n                  });\r\n            })\r\n            usersResults = usersResults.sort((a, b) => { return b.points - a.points });\r\n            \r\n            (0,_filtration_js__WEBPACK_IMPORTED_MODULE_1__.removeAllChildNodes)(resultsList);\r\n            for(let i = 0; i < usersResults.length; i++) {\r\n                  if (i > 9) return;\r\n                  const li = document.createElement('li');\r\n                  li.className = 'results-list__item';\r\n                  li.textContent = `${usersResults[i].surname} ${usersResults[i].name}`;\r\n                  const span = document.createElement('span');\r\n                  span.className = 'results-list__item-points';\r\n                  span.classList.add('item-points');\r\n                  const img = document.createElement('img');\r\n                  img.className = 'item-points__img';\r\n                  img.setAttribute('alt', '#');\r\n                  img.src = 'img/star.svg';\r\n                  span.textContent = usersResults[i].points;\r\n\r\n                  span.append(img);\r\n                  li.append(span);\r\n                  resultsList.append(li);\r\n            }\r\n      };\r\n}\r\n\r\n// Возможно сделать так, чтобы при одновременном выборе правильного и не правильного ответа начислялось пол бала\n\n//# sourceURL=webpack://coursework/./source/js/modules/knowledgeTesting.js?");

/***/ }),

/***/ "./source/js/modules/modals.js":
/*!*************************************!*\
  !*** ./source/js/modules/modals.js ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"closeMenuburger\": () => (/* binding */ closeMenuburger),\n/* harmony export */   \"closeModal\": () => (/* binding */ closeModal)\n/* harmony export */ });\n/* harmony import */ var _autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./autoAuthorizate.js */ \"./source/js/modules/autoAuthorizate.js\");\n// Добавить по клавише Esc закрытие модального окна на мобилке\r\n\r\n\r\n\r\nconst wrapper = document.querySelector('.wrapper'),\r\n      authButtons = document.querySelectorAll('#auth-button'),\r\n      registrButtons = document.querySelectorAll('#registr-button'),\r\n      modalWindow = document.querySelector('.modal-window'),\r\n      modalBackground = document.querySelector('.modal-background'),\r\n      modalRegistration = document.querySelector('.modal-registration'),\r\n      modalAuthorization = document.querySelector('.modal-authorization'),\r\n      switchonAuth = document.querySelector('#hint-auth'),\r\n      switchonReg = document.querySelector('#hint-registr'),\r\n      closemodalButtons = document.querySelectorAll('#close-modal'),\r\n      modalForms = document.querySelectorAll('.modal__form'),\r\n      surnameInput = document.querySelector('#surname-input'),\r\n      nameInput = document.querySelector('#name-input'),\r\n      emailInputs = document.querySelectorAll('#email-input'),\r\n      passwordInputs = document.querySelectorAll('#password-input'),\r\n      checkInput1 = document.querySelector('#agreement'),\r\n      checkInput2 = document.querySelector('#entering'),\r\n      burgerButton = document.querySelector('.burger-button'),\r\n      closeBurger = document.querySelector('#close-menuburger'),\r\n      menuburgerModal = document.querySelector('.menuburger-modal');\r\n\r\nif ((0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() !== 'perAccount.html' && (0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() !== 'registered.html') {\r\n    authButtons[0].addEventListener('click', () => {\r\n        closeMenuburger();\r\n        authOpen();\r\n    });\r\n\r\n    authButtons[1].addEventListener('click', () => {\r\n        authOpen();\r\n    });\r\n\r\n    authButtons[2].addEventListener('click', () => {\r\n        authOpen();\r\n    });\r\n\r\n    registrButtons[0].addEventListener('click', () => {\r\n        closeMenuburger();\r\n        regOpen();\r\n    });\r\n    \r\n    registrButtons[1].addEventListener('click', () => {\r\n        regOpen();\r\n    });\r\n\r\n    registrButtons[2].addEventListener('click', () => {\r\n        regOpen();\r\n    });\r\n\r\n    function authOpen() {\r\n        document.body.style.overflowY = 'hidden';\r\n        modalWindow.classList.remove('opened');\r\n        modalWindow.classList.remove('out');\r\n        modalWindow.classList.add('opened');\r\n    \r\n        showAuthblock(1);\r\n    };\r\n\r\n    function regOpen() {\r\n        document.body.style.overflowY = 'hidden';\r\n        modalWindow.classList.remove('opened');\r\n        modalWindow.classList.remove('out');\r\n        modalWindow.classList.add('opened');\r\n    \r\n        showRegBlock(0);\r\n    };\r\n    \r\n    switchonAuth.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        showAuthblock(1);\r\n    });\r\n    \r\n    switchonReg.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        showRegBlock(1);\r\n    });\r\n\r\n    modalWindow.addEventListener('click', (e) => {\r\n        let touch = e.target;\r\n    \r\n        if (touch.classList.contains('modal-window')) closeModal();\r\n    });\r\n    \r\n    closemodalButtons.forEach((elem) => {\r\n        elem.addEventListener('click', closeModal);\r\n    })\r\n    \r\n    document.addEventListener('keydown', (e) => {\r\n        if (e.which === 27) {\r\n            closeModal();\r\n        }\r\n    });\r\n}\r\n\r\nburgerButton.addEventListener('click', openMenuburger);\r\ncloseBurger.addEventListener('click', closeMenuburger);\r\n\r\nfunction openMenuburger() {\r\n    wrapper.style.overflowY = 'hidden';\r\n    menuburgerModal.classList.remove('opened');\r\n    menuburgerModal.classList.remove('out');\r\n    menuburgerModal.classList.add('opened');\r\n    menuburgerModal.addEventListener('click', (e) => {\r\n        let touch = e.target;\r\n\r\n        if (touch.classList.contains('menuburger-wrapper')) closeMenuburger();\r\n    })\r\n};\r\n\r\nfunction closeMenuburger() {\r\n    menuburgerModal.classList.add('out');\r\n    wrapper.style.overflowY = 'auto';\r\n};\r\n\r\nfunction showAuthblock(animate) {\r\n    if (animate) {\r\n        modalBackground.classList.remove('reg');\r\n        modalBackground.classList.add('auth');\r\n    } else {\r\n        modalBackground.classList.remove('reg');\r\n        modalBackground.classList.remove('auth');\r\n    }\r\n    modalAuthorization.classList.add('rotate');\r\n    modalRegistration.classList.add('rotate');\r\n\r\n    resetForms();\r\n};\r\n\r\nfunction showRegBlock(animate) {\r\n    if (animate) {\r\n        modalBackground.classList.remove('auth');\r\n        modalBackground.classList.add('reg');\r\n    } else {\r\n        modalBackground.classList.remove('reg');\r\n        modalBackground.classList.remove('auth');\r\n    };\r\n    \r\n    modalAuthorization.classList.remove('rotate');\r\n    modalRegistration.classList.remove('rotate');\r\n\r\n    resetForms();\r\n};\r\n\r\nfunction closeModal() {\r\n    modalWindow.classList.add('out');\r\n    modalAuthorization.classList.remove('rotate');\r\n    modalRegistration.classList.remove('rotate');\r\n    document.body.style.overflowY = 'auto';\r\n\r\n    resetForms();\r\n};\r\n\r\nfunction resetForms() {\r\n    let forms = Array.from(document.forms);\r\n    forms.forEach((elem) => {\r\n        elem.reset();\r\n    })\r\n    removeError();\r\n};\r\n\r\n\r\n\r\nmodalForms.forEach((elem) => {\r\n    elem.addEventListener('click', (e) => {\r\n        focusInput(e);\r\n    });\r\n\r\n    elem.addEventListener('keyup', (e) => {\r\n        if (e.which === 9) {\r\n            focusInput(e);\r\n        }\r\n    });\r\n})\r\n\r\n\r\n\r\nfunction focusInput(event) {\r\n    let touch = event.target;\r\n    \r\n    if (touch.classList.contains('modal__form-input')) {\r\n        let parent = touch.parentElement;\r\n        if (parent.classList.contains('error')) {\r\n            parent.classList.remove('error');\r\n            if (touch.getAttribute('name') === 'surname') {\r\n                parent.children[0].textContent = 'Фамилия';\r\n            }\r\n            if (touch.getAttribute('name') === 'name') {\r\n                parent.children[0].textContent = 'Имя';\r\n            }\r\n            if (touch.getAttribute('name') === 'email') {\r\n                parent.children[0].textContent = 'Email';\r\n            }\r\n            if (touch.getAttribute('name') === 'password') {\r\n                parent.children[0].textContent = 'Пароль';\r\n            }\r\n        }\r\n        parent.classList.add('focus');\r\n        touch.onfocus = () => {\r\n            if (!parent.classList.contains('focus')) parent.classList.add('focus');\r\n        };\r\n        touch.onblur = () => {\r\n            parent.classList.remove('focus');\r\n        };\r\n    }\r\n};\r\n\r\nfunction removeError() {\r\n    surnameInput.parentElement.children[0].textContent = 'Фамилия';\r\n    surnameInput.parentElement.classList.remove('error');\r\n    nameInput.parentElement.children[0].textContent = 'Имя';\r\n    nameInput.parentElement.classList.remove('error');\r\n    emailInputs[0].parentElement.children[0].textContent = 'Email';\r\n    emailInputs[0].parentElement.classList.remove('error');\r\n    emailInputs[1].parentElement.children[0].textContent = 'Email';\r\n    emailInputs[1].parentElement.classList.remove('error');\r\n    passwordInputs[0].parentElement.children[0].textContent = 'Пароль';\r\n    passwordInputs[0].parentElement.classList.remove('error');\r\n    passwordInputs[1].parentElement.children[0].textContent = 'Пароль';\r\n    passwordInputs[1].parentElement.classList.remove('error');\r\n    checkInput1.parentElement.classList.remove('error');\r\n    checkInput2.parentElement.classList.remove('error');\r\n};\n\n//# sourceURL=webpack://coursework/./source/js/modules/modals.js?");

/***/ }),

/***/ "./source/js/modules/personalAccount.js":
/*!**********************************************!*\
  !*** ./source/js/modules/personalAccount.js ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"constructAdminpage\": () => (/* binding */ constructAdminpage),\n/* harmony export */   \"constructPerspage\": () => (/* binding */ constructPerspage)\n/* harmony export */ });\n/* harmony import */ var _autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./autoAuthorizate.js */ \"./source/js/modules/autoAuthorizate.js\");\n\r\n\r\nObject.defineProperty(String.prototype, 'capitalize', {\r\n    value: function() {\r\n      return this.charAt(0).toUpperCase() + this.slice(1);\r\n    },\r\n    enumerable: false\r\n});\r\n\r\nfunction constructPerspage() {\r\n    const [userName, userEmail, userPoints, currentUser] = fillInfo();\r\n    userName.textContent = `${currentUser.surname} ${currentUser.name}`;\r\n    userEmail.textContent = currentUser.email;\r\n    userPoints.textContent = currentUser.points.pointsCount;\r\n\r\n    // ...\r\n};\r\n\r\nfunction constructAdminpage() {\r\n    const [userName, userEmail, userPoints, currentUser] = fillInfo();\r\n    userName.textContent = `${currentUser.surname} ${currentUser.name}`;\r\n    userEmail.textContent = currentUser.email;\r\n    userPoints.textContent = currentUser.points.pointsCount;\r\n\r\n    const testAddingForm = document.querySelector('.tests-adding'),\r\n          selectTesttype = document.querySelector('#select-test-type'),\r\n          typeradioBlock = document.querySelector('#type-radio'),\r\n          typeradioBlockInputs = document.querySelectorAll('#type-radio > input'),\r\n          typecheckboxBlock = document.querySelector('#type-checkbox'),\r\n          typecheckboxBlockChilds = document.querySelectorAll('#type-checkbox > input'),\r\n          removingInput = document.querySelector('.tests-removing__input'),\r\n          removingButton = document.querySelector('.tests-removing__button');\r\n\r\n    selectTesttype.addEventListener('change', () => {\r\n        typeradioBlock.classList.toggle('_hidden');\r\n        typecheckboxBlock.classList.toggle('_hidden');\r\n        if (selectTesttype.children[selectTesttype.selectedIndex].value === 'checkbox') {\r\n            console.log('radio closed');\r\n            for (let i = 0; i < typeradioBlockInputs.length; i++) {\r\n                typeradioBlockInputs[i].disabled = true;\r\n            }\r\n            for (let i = 0; i < typecheckboxBlockChilds.length; i++) {\r\n                typecheckboxBlockChilds[i].disabled = false;\r\n                console.log(typecheckboxBlockChilds[i]);\r\n            }\r\n        } else {\r\n            console.log('checkbox closed');\r\n            for (let i = 0; i < typeradioBlockInputs.length; i++) {\r\n                typeradioBlockInputs[i].disabled = false;\r\n            }\r\n            for (let i = 0; i < typecheckboxBlockChilds.length; i++) {\r\n                typecheckboxBlockChilds[i].disabled = true;\r\n            }\r\n        }\r\n    });\r\n\r\n    testAddingForm.addEventListener('input', (e) => {\r\n        let touch = e.target;\r\n\r\n        if (touch.classList.contains('configuration-settings__input')) {\r\n            let inputValue = touch.value;\r\n\r\n            if (/[^a-zA-Z0-9-,;\\.-\\s]/.test(inputValue) || /\\s{2}/.test(inputValue)) {\r\n                inputValue = inputValue.substr(0, inputValue.length - 1);\r\n            }\r\n            touch.value = inputValue;\r\n        }\r\n    });\r\n    \r\n    \r\n    testAddingForm.addEventListener('submit', (e) => {\r\n        e.preventDefault();\r\n        const form = e.target, formdata = new FormData(form);\r\n\r\n        let obj;\r\n        if (!typecheckboxBlock.classList.contains('_hidden')) {\r\n            obj = {\r\n                answer: [],\r\n                incorrectAnswers: []\r\n            };\r\n        } else {\r\n            obj = {\r\n                incorrectAnswers: []\r\n            };\r\n        }\r\n        \r\n        for(let pair of formdata.entries()) {\r\n            console.log(pair[0], ':', pair[1]);\r\n            if (!pair[1]) {\r\n                alert('Полностью заполните форму');\r\n                return;\r\n            }\r\n            if (typecheckboxBlock.classList.contains('_hidden')) {\r\n                if (pair[0] === 'incorrectAnswers') {\r\n                    obj.incorrectAnswers.push(pair[1]);\r\n                } else if (pair[0] === 'word') {\r\n                    obj[pair[0]] = pair[1].capitalize();\r\n                } else {\r\n                    obj[pair[0]] = pair[1];\r\n                }\r\n            } else {\r\n                if (pair[0] === 'incorrectAnswers') {\r\n                    obj.incorrectAnswers.push(pair[1]);\r\n                } else if (pair[0] === 'answer') {\r\n                    obj.answer.push(pair[1]);\r\n                } else if (pair[0] === 'word') {\r\n                    obj[pair[0]] = pair[1].capitalize();\r\n                }\r\n            }\r\n        }\r\n\r\n        alert('Новое задание успешно добавлено');\r\n        form.reset();\r\n        const tests = JSON.parse(localStorage.getItem('tests'));\r\n        tests.push(obj);\r\n        localStorage.setItem('tests', JSON.stringify(tests));\r\n    });\r\n    \r\n    removingButton.addEventListener('click', () => {\r\n        const tests = JSON.parse(localStorage.getItem('tests'));\r\n        if (+removingInput.value === 0) {\r\n            alert('Введите идентификатор удаляемого задания');\r\n        } else {\r\n            if (tests[+removingInput.value - 1]) {\r\n                tests.splice(+removingInput.value - 1, 1);\r\n            } else {\r\n                alert(`Задания с индентификатором ${+removingInput.value - 1} не существует`);\r\n            }\r\n        }\r\n        removingInput.value = '';\r\n        localStorage.setItem('tests', JSON.stringify(tests));\r\n    });\r\n\r\n    removingInput.addEventListener('input', () => {\r\n        let inputValue = removingInput.value;\r\n        if (/[^0-9]/.test(inputValue) || /^[0]/.test(inputValue) || /.{3}/.test(inputValue)) {\r\n            inputValue = inputValue.substr(0, inputValue.length - 1);\r\n        }\r\n        removingInput.value = inputValue;\r\n    });\r\n};\r\n\r\nfunction fillInfo() {\r\n    const logoutButtons = document.querySelectorAll('#logout-button'),\r\n          userName = document.querySelector('.user-names__user'),\r\n          userEmail = document.querySelector('.user-email__email'),\r\n          userPoints = document.querySelector('.points-block__points');\r\n    let currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n\r\n    if (!currentUser.autoAuth) {\r\n        window.onbeforeunload = () => {\r\n            localStorage.setItem('currentUser', JSON.stringify({\r\n                surname: '',\r\n                name: '',\r\n                email: '',\r\n                password: '',\r\n                points: 0,\r\n                favorite: [],\r\n                role: 'User',\r\n                autoAuth: false\r\n            }));\r\n        };\r\n    }\r\n\r\n    logoutButtons.forEach((elem) => {\r\n        elem.addEventListener('click', logout);\r\n    })\r\n\r\n    return [userName, userEmail, userPoints, currentUser];\r\n};\r\n\r\nfunction logout() {\r\n    let currentUser = {\r\n        surname: '',\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        points: 0,\r\n        favorite: [],\r\n        role: 'User',\r\n        autoAuth: false\r\n    };\r\n    localStorage.setItem('currentUser', JSON.stringify(currentUser));\r\n    window.location.href = 'index.html';\r\n};\r\n\r\n\r\n\r\nif ((0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() === 'persAccount.html') {\r\n    constructPerspage();\r\n} else if ((0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() === 'adminAccount.html') {\r\n    constructAdminpage();\r\n}\n\n//# sourceURL=webpack://coursework/./source/js/modules/personalAccount.js?");

/***/ }),

/***/ "./source/js/modules/regForm.js":
/*!**************************************!*\
  !*** ./source/js/modules/regForm.js ***!
  \**************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./autoAuthorizate.js */ \"./source/js/modules/autoAuthorizate.js\");\n/* harmony import */ var _modals_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modals.js */ \"./source/js/modules/modals.js\");\n\r\n\r\n\r\nif ((0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() !== 'perAccount.html' && (0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() !== 'registered.html') {\r\n    const form = document.querySelector('#registration-form'),\r\n        surnameInput = document.querySelector('#surname-input'),\r\n        nameInput = document.querySelector('#name-input'),\r\n        emailInputs = document.querySelectorAll('#email-input'),\r\n        passwordInputs = document.querySelectorAll('#password-input'),\r\n        checkInput = document.querySelector('#agreement');\r\n\r\n    if (!localStorage.getItem('accounts')) {\r\n        let adminData = {\r\n            surname: 'Systemi',\r\n            name: 'Vrag',\r\n            email: 'AdminKrutoy@gmail.com',\r\n            password: 'qwertyAdmin001',\r\n            role: 'Admin',\r\n            points: {\r\n                completedTests: [], \r\n                pointsCount: 0\r\n            },\r\n            autoAuth: false\r\n        };\r\n        let accounts = [adminData];\r\n\r\n        localStorage.setItem('accounts', JSON.stringify(accounts));\r\n    }\r\n\r\n    form.addEventListener('submit', registrateFormdata);\r\n\r\n    async function registrateFormdata(e) {\r\n        e.preventDefault();\r\n        let submitForm = e.target;\r\n        let submitButton = submitForm.children[submitForm.children.length - 1];\r\n\r\n        if (validateForm()) {\r\n            let accounts = JSON.parse(localStorage.getItem('accounts'));\r\n            let formData = new FormData(form);\r\n            let obj = {};\r\n\r\n            for(let item of formData.entries()) {\r\n                obj[item[0]] = item[1];\r\n            }\r\n            obj.points = {\r\n                completedTests: [],\r\n                pointsCount: 0\r\n            };\r\n            obj.favorite = [];\r\n            obj.autoAuth = false;\r\n\r\n            for (let i = 0; i < accounts.length; i++) {\r\n                if (accounts[i].email === obj.email) {\r\n                    emailInputs[0].parentElement.classList.add('error');\r\n                    emailInputs[0].parentElement.children[0].textContent = 'Данный email-адрес уже зарегистрирован';\r\n\r\n                    submitButton.value = 'Ошибка';\r\n                    submitButton.classList.add('failed');\r\n                    setTimeout(() => {\r\n                        submitButton.classList.remove('failed');\r\n                        submitButton.value = 'Зарегистрироваться';\r\n                    }, 2000);\r\n                    checkInput.checked = false;\r\n\r\n                    return;\r\n                }\r\n            }\r\n            accounts.push(obj);\r\n            localStorage.setItem('accounts', JSON.stringify(accounts));\r\n            submitButton.value = 'Регистрация завершена';\r\n            submitButton.classList.add('success');\r\n            setTimeout(() => {\r\n                (0,_modals_js__WEBPACK_IMPORTED_MODULE_1__.closeModal)();\r\n                submitButton.classList.remove('success');\r\n                submitButton.value = 'Зарегистрироваться';\r\n            }, 2000);\r\n\r\n            form.reset();\r\n\r\n            return;\r\n        }\r\n\r\n        submitButton.value = 'Ошибка';\r\n        submitButton.classList.add('failed');\r\n        setTimeout(() => {\r\n            submitButton.classList.remove('failed');\r\n            submitButton.value = 'Зарегистрироваться';\r\n        }, 2000);\r\n        checkInput.checked = false;\r\n    };\r\n\r\n    function validateForm() {\r\n        let errors = 0;\r\n\r\n        validateInput(/^[А-ЯёЁ]{1}[а-я]{1}[а-я]+$/, nameInput);\r\n        validateInput(/^[А-ЯёЁ]{1}[а-я]{1}[а-я]+$/, surnameInput);\r\n        validateInput(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/, emailInputs[0]);\r\n        validateInput(/^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/, passwordInputs[0]);\r\n\r\n        function validateInput(pattern, input) {\r\n            let inputValue = input.value.trim();\r\n            if (!pattern.test(inputValue)) {\r\n                input.value = '';\r\n                let parent = input.parentElement;\r\n                parent.classList.add('error');\r\n\r\n                if (input.getAttribute('name') === 'surname' || input.getAttribute('name') === 'name') {\r\n                    parent.children[0].textContent = 'Только буквы русского алфавита';\r\n                }\r\n                if (input.getAttribute('name') === 'email') {\r\n                    parent.children[0].textContent = 'Имя почтового ящика, @, доменное имя (раздел. \".\")';\r\n                }\r\n                if (input.getAttribute('name') === 'password') {\r\n                    parent.children[0].textContent = 'Минимум 8 символов, 1 буква лат. алфавита и 1 цифра';\r\n                }\r\n\r\n                errors++;\r\n            }\r\n\r\n            return errors;\r\n        };\r\n\r\n        if (errors > 0) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    };\r\n}\n\n//# sourceURL=webpack://coursework/./source/js/modules/regForm.js?");

/***/ }),

/***/ "./source/js/modules/scroll.js":
/*!*************************************!*\
  !*** ./source/js/modules/scroll.js ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"scrollToelement\": () => (/* binding */ scrollToelement)\n/* harmony export */ });\n/* harmony import */ var _autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./autoAuthorizate.js */ \"./source/js/modules/autoAuthorizate.js\");\n/* harmony import */ var _modals_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modals.js */ \"./source/js/modules/modals.js\");\n\r\n\r\n\r\nfunction scrollToelement(elem, offset = 150) {\r\n    window.scrollTo({\r\n        top: elem.offsetTop - offset,\r\n        behavior: 'smooth'\r\n    });\r\n};\r\n\r\nif (((0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() !== 'perAccount.html' && (0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() !== 'registered.html') || (0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() === 'registered.html') {\r\n    const aboutBlock = document.querySelector('#about'),\r\n        dictionaryBlock = document.querySelector('#dict'),\r\n        testingBlock = document.querySelector('#test'),\r\n        mainBlock = document.querySelector('#main'),\r\n        links = document.querySelectorAll('.link:not(#random-link)');\r\n\r\n    links.forEach((elem) => {\r\n        if (elem.textContent.trim() === 'О нас') {\r\n            elem.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                scrollToelement(aboutBlock);\r\n                (0,_modals_js__WEBPACK_IMPORTED_MODULE_1__.closeMenuburger)();\r\n            });\r\n        }\r\n\r\n        if (elem.textContent.trim() === 'Словарь') {\r\n            elem.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                scrollToelement(dictionaryBlock, 15);\r\n                (0,_modals_js__WEBPACK_IMPORTED_MODULE_1__.closeMenuburger)();\r\n            });\r\n        }\r\n\r\n        if (elem.textContent.trim() === 'Тестирование') {\r\n            elem.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                scrollToelement(testingBlock);\r\n                (0,_modals_js__WEBPACK_IMPORTED_MODULE_1__.closeMenuburger)();\r\n            });\r\n        }\r\n\r\n        if (elem.textContent.trim() === 'Главная') {\r\n            elem.addEventListener('click', (e) => {\r\n                e.preventDefault();\r\n                scrollToelement(mainBlock);\r\n                (0,_modals_js__WEBPACK_IMPORTED_MODULE_1__.closeMenuburger)();\r\n            });\r\n        }\r\n    })\r\n\r\n    if (JSON.parse(localStorage.getItem('scrollFrompage'))) {\r\n        links.forEach((elem) => {\r\n            if (elem.textContent.trim() === JSON.parse(localStorage.getItem('scrollFrompage'))) {\r\n                elem.click();\r\n                localStorage.setItem('scrollFrompage', '[]');\r\n            }\r\n        });\r\n    }\r\n} else if ((0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() === 'persAccount.html' || (0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() === 'adminAccount.html') {\r\n    const links = document.querySelectorAll('.link');\r\n\r\n    function redirectTopage(e) {\r\n        localStorage.setItem('scrollFrompage', JSON.stringify(e.target.textContent.trim()));\r\n        window.location.href = 'registered.html';\r\n    };\r\n\r\n    links.forEach((elem) => {\r\n        elem.addEventListener('click', redirectTopage);\r\n    })\r\n}\n\n//# sourceURL=webpack://coursework/./source/js/modules/scroll.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./source/js/app.js");
/******/ 	
/******/ })()
;
