/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./source/js/app.js":
/*!**************************!*\
  !*** ./source/js/app.js ***!
  \**************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_functions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/functions.js */ \"./source/js/modules/functions.js\");\n/* harmony import */ var _modules_scroll_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/scroll.js */ \"./source/js/modules/scroll.js\");\n/* harmony import */ var _modules_createCards_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/createCards.js */ \"./source/js/modules/createCards.js\");\n/* harmony import */ var _modules_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/autoAuthorizate.js */ \"./source/js/modules/autoAuthorizate.js\");\n/* harmony import */ var _modules_modals_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modules/modals.js */ \"./source/js/modules/modals.js\");\n/* harmony import */ var _modules_inputValidation_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./modules/inputValidation.js */ \"./source/js/modules/inputValidation.js\");\n/* harmony import */ var _modules_regForm_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./modules/regForm.js */ \"./source/js/modules/regForm.js\");\n/* harmony import */ var _modules_authForm_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./modules/authForm.js */ \"./source/js/modules/authForm.js\");\n/* harmony import */ var _modules_customSelect_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./modules/customSelect.js */ \"./source/js/modules/customSelect.js\");\n\r\n_modules_functions_js__WEBPACK_IMPORTED_MODULE_0__.isWebp();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://coursework/./source/js/app.js?");

/***/ }),

/***/ "./source/js/modules/authForm.js":
/*!***************************************!*\
  !*** ./source/js/modules/authForm.js ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _createAuthorizatedpage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./createAuthorizatedpage.js */ \"./source/js/modules/createAuthorizatedpage.js\");\n/* harmony import */ var _autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./autoAuthorizate.js */ \"./source/js/modules/autoAuthorizate.js\");\n\r\n\r\n\r\nif ((0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_1__.htmlName)() !== 'registered.html') {\r\n    const form = document.querySelector('#authorization-form'),\r\n        emailInputs = document.querySelectorAll('#email-input'),\r\n        passwordInputs = document.querySelectorAll('#password-input'),\r\n        checkInput = document.querySelector('#entering'),\r\n        modalWindow = document.querySelector('.modal-window'),\r\n        modalRegistration = document.querySelector('.modal-registration'),\r\n        modalAuthorization = document.querySelector('.modal-authorization'),\r\n        wrapper = document.querySelector('.wrapper');\r\n\r\n    form.addEventListener('submit', authorizateFormdata);\r\n\r\n    async function authorizateFormdata(e) {\r\n        e.preventDefault();\r\n        let submitForm = e.target;\r\n        let submitButton = submitForm.children[submitForm.children.length - 1];\r\n\r\n        if (validateForm()) {\r\n            let accounts = JSON.parse(localStorage.getItem('accounts'));\r\n            let formData = new FormData(form);\r\n            let obj = {}, currentUserid;\r\n\r\n            for(let item of formData.entries()) {\r\n                obj[item[0]] = item[1];\r\n            }\r\n\r\n            let correctData = {\r\n                email: false,\r\n                password: false\r\n            };\r\n            for (let i = 0; i < accounts.length; i++) {\r\n                if (accounts[i].email === obj.email && accounts[i].password === obj.password) {\r\n                    currentUserid = accounts[i];\r\n                    correctData.email = true;\r\n                    correctData.password = true;\r\n                } else if (accounts[i].email === obj.email) {\r\n                    correctData.email = true;\r\n                } else if (accounts[i].password === obj.password) {\r\n                    correctData.password = true;\r\n                }\r\n            }\r\n\r\n            if (correctData.email && !correctData.password) {\r\n                passwordInputs[1].parentElement.classList.add('error');\r\n                passwordInputs[1].parentElement.children[0].textContent = 'Неверный пароль';\r\n                passwordInputs[1].value = '';\r\n                checkInput.checked = false;\r\n\r\n                return;\r\n            } else if (correctData.email && correctData.password) {\r\n                if (obj.checkbox) {\r\n                    currentUserid.autoAuth = true;\r\n                }\r\n                localStorage.setItem('currentUser', JSON.stringify(currentUserid));\r\n\r\n                submitButton.value = 'Авторизация завершена';\r\n                submitButton.classList.add('success');\r\n                setTimeout(() => {\r\n                    (0,_createAuthorizatedpage_js__WEBPACK_IMPORTED_MODULE_0__.locateTo)();\r\n                    closeModal();\r\n                    submitButton.classList.remove('success');\r\n                    submitButton.value = 'Войти';\r\n                }, 2000);\r\n\r\n                form.reset();\r\n\r\n                return;\r\n            } else {\r\n                emailInputs[1].parentElement.classList.add('error');\r\n                emailInputs[1].parentElement.children[0].textContent = 'Пользователь с данным email-адресом не найден';\r\n                passwordInputs[1].value = '';\r\n                checkInput.checked = false;\r\n\r\n                return;\r\n            }\r\n        }\r\n\r\n        submitButton.value = 'Ошибка';\r\n        submitButton.classList.add('failed');\r\n        setTimeout(() => {\r\n            submitButton.classList.remove('failed');\r\n            submitButton.value = 'Войти';\r\n        }, 2000);\r\n        checkInput.checked = false;\r\n    };\r\n\r\n    function validateForm() {\r\n        let errors = 0;\r\n\r\n        validateInput(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/, emailInputs[1]);\r\n        validateInput(/^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/, passwordInputs[1]);\r\n\r\n        function validateInput(pattern, input) {\r\n            let inputValue = input.value.trim();\r\n            if (!pattern.test(inputValue)) {\r\n                input.value = '';\r\n                let parent = input.parentElement;\r\n                parent.classList.add('error');\r\n\r\n                if (input.getAttribute('name') === 'email') {\r\n                    parent.children[0].textContent = 'Имя почтового ящика, @, доменное имя (раздел. \".\")';\r\n                }\r\n                if (input.getAttribute('name') === 'password') {\r\n                    parent.children[0].textContent = 'Минимум 8 символов, 1 буква лат. алфавита и 1 цифра';\r\n                }\r\n\r\n                errors++;\r\n            }\r\n\r\n            return errors;\r\n        };\r\n\r\n        if (errors > 0) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    };\r\n\r\n    function closeModal() {\r\n        modalWindow.classList.add('out');\r\n        modalAuthorization.classList.remove('rotate');\r\n        modalRegistration.classList.remove('rotate');\r\n        wrapper.style.overflowY = 'auto';\r\n    };\r\n}\n\n//# sourceURL=webpack://coursework/./source/js/modules/authForm.js?");

/***/ }),

/***/ "./source/js/modules/autoAuthorizate.js":
/*!**********************************************!*\
  !*** ./source/js/modules/autoAuthorizate.js ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"htmlName\": () => (/* binding */ htmlName)\n/* harmony export */ });\n/* harmony import */ var _createAuthorizatedpage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./createAuthorizatedpage.js */ \"./source/js/modules/createAuthorizatedpage.js\");\n\r\n\r\nfunction htmlName() {\r\n    let st = unescape(window.location.href);\r\n    let i = false;\r\n    let r = st.substring(st.lastIndexOf('/') + 1, st.length);\r\n    \r\n    return r;\r\n}\r\n\r\nlet currentUser = {\r\n    surname: '',\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    points: 0,\r\n    favorite: [],\r\n    role: 'User',\r\n    autoAuth: false\r\n};\r\n\r\nif (!localStorage.getItem('currentUser')) {\r\n    localStorage.setItem('currentUser', JSON.stringify(currentUser));\r\n}\r\n\r\nif (htmlName() === 'index.html' && JSON.parse(localStorage.getItem('currentUser')).email) {\r\n    _createAuthorizatedpage_js__WEBPACK_IMPORTED_MODULE_0__.locateTo();\r\n} else if (htmlName() === 'registered.html' && !JSON.parse(localStorage.getItem('currentUser')).email) {\r\n    window.location.href = 'index.html';\r\n} else if (htmlName() === 'registered.html' && JSON.parse(localStorage.getItem('currentUser')).email) {\r\n    _createAuthorizatedpage_js__WEBPACK_IMPORTED_MODULE_0__.constructPage();\r\n}\n\n//# sourceURL=webpack://coursework/./source/js/modules/autoAuthorizate.js?");

/***/ }),

/***/ "./source/js/modules/createAuthorizatedpage.js":
/*!*****************************************************!*\
  !*** ./source/js/modules/createAuthorizatedpage.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"constructPage\": () => (/* binding */ constructPage),\n/* harmony export */   \"locateTo\": () => (/* binding */ locateTo)\n/* harmony export */ });\nfunction locateTo() { \r\n    window.location.href = 'registered.html';\r\n    constructPage();\r\n};\r\n\r\nfunction constructPage() {\r\n    const persaccountButtons = document.querySelectorAll('#persaccount-button'),\r\n          logoutButtons = document.querySelectorAll('#logout-button');\r\n    let currentUser = JSON.parse(localStorage.getItem('currentUser'));\r\n\r\n    if (!currentUser.autoAuth) {\r\n        window.addEventListener(\"beforeunload\", () => {\r\n            localStorage.setItem('currentUser', JSON.stringify({\r\n                surname: '',\r\n                name: '',\r\n                email: '',\r\n                password: '',\r\n                points: 0,\r\n                favorite: [],\r\n                role: 'User',\r\n                autoAuth: false\r\n            }));\r\n        });\r\n    }\r\n\r\n    persaccountButtons.forEach((elem) => {\r\n        elem.children[1].textContent = `${currentUser.surname} ${currentUser.name[0]}.`;\r\n        // Слушатель перехода на страницу личного кабинета\r\n    })\r\n\r\n    logoutButtons.forEach((elem) => {\r\n        elem.addEventListener('click', logout);\r\n    })\r\n    // Добавить функционал, что если карточки в словаре добавлены в избранное, то на них соответствующая иконка\r\n};\r\n\r\nfunction logout() {\r\n    let currentUser = {\r\n        surname: '',\r\n        name: '',\r\n        email: '',\r\n        password: '',\r\n        points: 0,\r\n        favorite: [],\r\n        role: 'User',\r\n        autoAuth: false\r\n    };\r\n    localStorage.setItem('currentUser', JSON.stringify(currentUser));\r\n    window.location.href = 'index.html';\r\n};\n\n//# sourceURL=webpack://coursework/./source/js/modules/createAuthorizatedpage.js?");

/***/ }),

/***/ "./source/js/modules/createCards.js":
/*!******************************************!*\
  !*** ./source/js/modules/createCards.js ***!
  \******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\nwindow.addEventListener('DOMContentLoaded', () => {\r\n    async function getData(url) {\r\n        const response = await fetch(url);\r\n\r\n        return await response.json();\r\n    };\r\n\r\n    getData('../files/dictionary_compact.json')\r\n        .then((data) => {\r\n            let wordsCollection = Object.entries(data);\r\n\r\n            createSaveicon();\r\n            for (let i = 0; i < wordsCollection.length; i++) {\r\n                createCard(false, i, wordsCollection[i][0], wordsCollection[i][1]);\r\n            }\r\n        });\r\n    \r\n    function createCard(registered, id, title, definition) {\r\n        const cardsBlock = document.querySelector('.cards-items');\r\n\r\n        \r\n\r\n    };\r\n\r\n    function createSaveicon() {\r\n        const saveiconSvg = document.createElement('svg');\r\n        saveiconSvg.className = 'card-item__save-icon';\r\n        saveiconSvg.setAttribute('fill', 'none');\r\n        saveiconSvg.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\r\n\r\n        const saveiconPath = document.createElement('path');\r\n        saveiconPath.setAttribute('d', 'M32 6V4C32 2.34315 30.6569 1 29 1V1M29 1C28.3201 1 26.6305 1 26 1L21 1C15.7814 1 9.99672 1 5.99671 1C3.23528 1 1 3.23858 1 6V36.9733C1 37.8022 1.95059 38.2712 2.60843 37.7669L12.3916 30.2665C12.7505 29.9913 13.2495 29.9913 13.6084 30.2665L23.4202 37.7888C24.0728 38.2891 25.0165 37.8417 25.0282 37.0195C25.1184 30.6753 25.3937 11.1724 25.3937 9.5C25.3937 7.5 25 3.5 29 1Z');\r\n        saveiconPath.setAttribute('stroke', '#4E3636');\r\n\r\n        saveiconSvg.append(saveiconPath);\r\n\r\n        return saveiconSvg;\r\n    };\r\n})\n\n//# sourceURL=webpack://coursework/./source/js/modules/createCards.js?");

/***/ }),

/***/ "./source/js/modules/customSelect.js":
/*!*******************************************!*\
  !*** ./source/js/modules/customSelect.js ***!
  \*******************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\nvar x, i, j, l, ll, selElmnt, a, b, c;\r\n/* Look for any elements with the class \"custom-select\": */\r\nx = document.getElementsByClassName(\"custom-select\");\r\nl = x.length;\r\nfor (i = 0; i < l; i++) {\r\n  selElmnt = x[i].getElementsByTagName(\"select\")[0];\r\n  ll = selElmnt.length;\r\n  /* For each element, create a new DIV that will act as the selected item: */\r\n  a = document.createElement(\"DIV\");\r\n  a.className = \"select-selected\";\r\n  a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;\r\n  x[i].appendChild(a);\r\n  /* For each element, create a new DIV that will contain the option list: */\r\n  b = document.createElement(\"DIV\");\r\n  b.className = \"select-items select-hide\";\r\n  for (j = 1; j < ll; j++) {\r\n    /* For each option in the original select element,\r\n    create a new DIV that will act as an option item: */\r\n    c = document.createElement(\"DIV\");\r\n    c.innerHTML = selElmnt.options[j].innerHTML;\r\n    c.addEventListener(\"click\", function(e) {\r\n        /* When an item is clicked, update the original select box,\r\n        and the selected item: */\r\n        var y, i, k, s, h, sl, yl;\r\n        s = this.parentNode.parentNode.getElementsByTagName(\"select\")[0];\r\n        console.log(s);\r\n        sl = s.length;\r\n        h = this.parentNode.previousSibling;\r\n        for (i = 0; i < sl; i++) {\r\n          if (s.options[i].innerHTML == this.innerHTML) {\r\n            s.selectedIndex = i;\r\n            h.innerHTML = this.innerHTML;\r\n            y = this.parentNode.getElementsByClassName(\"same-as-selected\");\r\n            yl = y.length;\r\n            for (k = 0; k < yl; k++) {\r\n              y[k].removeAttribute(\"class\");\r\n            }\r\n            this.setAttribute(\"class\", \"same-as-selected\");\r\n            break;\r\n          }\r\n        }\r\n        h.click();\r\n    });\r\n    b.appendChild(c);\r\n  }\r\n  x[i].appendChild(b);\r\n  a.addEventListener(\"click\", function(e) {\r\n    /* When the select box is clicked, close any other select boxes,\r\n    and open/close the current select box: */\r\n    e.stopPropagation();\r\n    closeAllSelect(this);\r\n    this.nextSibling.classList.toggle(\"select-hide\");\r\n    this.classList.toggle(\"select-arrow-active\");\r\n  });\r\n}\r\n\r\nfunction closeAllSelect(elmnt) {\r\n  /* A function that will close all select boxes in the document,\r\n  except the current select box: */\r\n  var x, y, i, xl, yl, arrNo = [];\r\n  x = document.getElementsByClassName(\"select-items\");\r\n  y = document.getElementsByClassName(\"select-selected\");\r\n  xl = x.length;\r\n  yl = y.length;\r\n  for (i = 0; i < yl; i++) {\r\n    if (elmnt == y[i]) {\r\n      arrNo.push(i)\r\n    } else {\r\n      y[i].classList.remove(\"select-arrow-active\");\r\n    }\r\n  }\r\n  for (i = 0; i < xl; i++) {\r\n    if (arrNo.indexOf(i)) {\r\n      x[i].classList.add(\"select-hide\");\r\n    }\r\n  }\r\n}\r\n\r\n/* If the user clicks anywhere outside the select box,\r\nthen close all select boxes: */\r\ndocument.addEventListener('click', (e) => {\r\n    let touch = e.target;\r\n\r\n    if (touch.classList.contains('content-block') || touch.classList.contains('dict__filtering-block') || touch.classList.contains('filters') || touch.classList.contains('wrapper') || touch.classList.contains('dictionary-block__dict') || touch.classList.contains('main') || touch.classList.contains('cards-items') || touch.classList.contains('card-item')) closeAllSelect();\r\n});\r\n// Можно добавить классов для закрытия листа\n\n//# sourceURL=webpack://coursework/./source/js/modules/customSelect.js?");

/***/ }),

/***/ "./source/js/modules/functions.js":
/*!****************************************!*\
  !*** ./source/js/modules/functions.js ***!
  \****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isWebp\": () => (/* binding */ isWebp)\n/* harmony export */ });\nfunction isWebp() {\r\n    // Проверка поддержки\r\n    function testWebP(callback) {\r\n        let webP = new Image();\r\n        webP.onload = webP.onerror = function () {\r\n            callback(webP.height == 2);\r\n        };\r\n        webP.src = \"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA\";\r\n    }\r\n\r\n    // Добавление классов _webp или _no-webp\r\n    testWebP(function(support) {\r\n        let className = support === true ? 'webp' : 'no-webp';\r\n        document.documentElement.classList.add(className);\r\n    });\r\n}\n\n//# sourceURL=webpack://coursework/./source/js/modules/functions.js?");

/***/ }),

/***/ "./source/js/modules/inputValidation.js":
/*!**********************************************!*\
  !*** ./source/js/modules/inputValidation.js ***!
  \**********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./autoAuthorizate.js */ \"./source/js/modules/autoAuthorizate.js\");\n\r\n\r\nconst surnameInput = document.querySelector('#surname-input'),\r\n      nameInput = document.querySelector('#name-input'),\r\n      emailInputs = document.querySelectorAll('#email-input'),\r\n      passwordInputs = document.querySelectorAll('#password-input'),\r\n      rangeInputs = document.querySelectorAll('.filters-input');\r\n\r\nlet inputValue;\r\n\r\nif ((0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() !== 'registered.html') {\r\n    surnameInput.addEventListener('input', () => {\r\n        ruswordCheck(surnameInput);\r\n    });\r\n    \r\n    nameInput.addEventListener('input', () => {\r\n        ruswordCheck(nameInput);\r\n    });\r\n}\r\n\r\nfunction ruswordCheck(elemInput) {\r\n    if (elemInput.classList.contains('error')) elemInput.classList.remove('error');\r\n    \r\n    inputValue = elemInput.value;\r\n    if (!/^[А-ЯёЁ]{1}/.test(inputValue)) elemInput.value = inputValue.substring(0, inputValue.length - 1);\r\n};\r\n\r\nemailInputs.forEach((elem) => {\r\n    defaultCheck(elem);\r\n})\r\n\r\npasswordInputs.forEach((elem) => {\r\n    defaultCheck(elem);\r\n})\r\n\r\nfunction defaultCheck(elemInput) {\r\n    if (elemInput.classList.contains('error')) elemInput.classList.remove('error');\r\n\r\n    elemInput.addEventListener('input', () => {\r\n        inputValue = elemInput.value;\r\n        if (!/[a-zA-Z]|\\d/.test(inputValue)) elemInput.value = inputValue.substring(0, inputValue.lenght - 1);\r\n    });\r\n};\r\n\r\nrangeInputs.forEach((elem) => {\r\n    elem.addEventListener('input', () => { \r\n        minmaxInput(elem);\r\n    });\r\n})\r\n\r\nfunction minmaxInput(elem) {\r\n    if (Number(elem.value) > 99) elem.value = 99;\r\n    if (Number(elem.value) < 1) elem.value = '';\r\n};\n\n//# sourceURL=webpack://coursework/./source/js/modules/inputValidation.js?");

/***/ }),

/***/ "./source/js/modules/modals.js":
/*!*************************************!*\
  !*** ./source/js/modules/modals.js ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./autoAuthorizate.js */ \"./source/js/modules/autoAuthorizate.js\");\n// Добавить по клавише Esc закрытие модального окна на мобилке\r\n\r\n\r\n\r\nconst wrapper = document.querySelector('.wrapper'),\r\n      authButtons = document.querySelectorAll('#auth-button'),\r\n      registrButtons = document.querySelectorAll('#registr-button'),\r\n      modalWindow = document.querySelector('.modal-window'),\r\n      modalBackground = document.querySelector('.modal-background'),\r\n      modalRegistration = document.querySelector('.modal-registration'),\r\n      modalAuthorization = document.querySelector('.modal-authorization'),\r\n      switchonAuth = document.querySelector('#hint-auth'),\r\n      switchonReg = document.querySelector('#hint-registr'),\r\n      closemodalButtons = document.querySelectorAll('#close-modal'),\r\n      modalForms = document.querySelectorAll('.modal__form'),\r\n      surnameInput = document.querySelector('#surname-input'),\r\n      nameInput = document.querySelector('#name-input'),\r\n      emailInputs = document.querySelectorAll('#email-input'),\r\n      passwordInputs = document.querySelectorAll('#password-input'),\r\n      checkInput1 = document.querySelector('#agreement'),\r\n      checkInput2 = document.querySelector('#entering'),\r\n      burgerButton = document.querySelector('.burger-button'),\r\n      closeBurger = document.querySelector('#close-menuburger'),\r\n      menuburgerModal = document.querySelector('.menuburger-modal'),\r\n      menuburgerWrapper = document.querySelector('.menuburger-wrapper');\r\n\r\nif ((0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() !== 'registered.html') {\r\n    authButtons[0].addEventListener('click', () => {\r\n        closeMenuburger();\r\n        authOpen();\r\n    });\r\n\r\n    authButtons[1].addEventListener('click', () => {\r\n        authOpen();\r\n    });\r\n\r\n    registrButtons[0].addEventListener('click', () => {\r\n        closeMenuburger();\r\n        regOpen();\r\n    });\r\n    \r\n    registrButtons[1].addEventListener('click', () => {\r\n        regOpen();\r\n    });\r\n\r\n    function authOpen() {\r\n        wrapper.style.overflowY = 'hidden';\r\n        modalWindow.classList.remove('opened');\r\n        modalWindow.classList.remove('out');\r\n        modalWindow.classList.add('opened');\r\n    \r\n        showAuthblock(1);\r\n    };\r\n\r\n    function regOpen() {\r\n        wrapper.style.overflowY = 'hidden';\r\n        modalWindow.classList.remove('opened');\r\n        modalWindow.classList.remove('out');\r\n        modalWindow.classList.add('opened');\r\n    \r\n        showRegBlock(0);\r\n    };\r\n    \r\n    switchonAuth.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        showAuthblock(1);\r\n    });\r\n    \r\n    switchonReg.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n        showRegBlock(1);\r\n    });\r\n\r\n    modalWindow.addEventListener('click', (e) => {\r\n        let touch = e.target;\r\n    \r\n        if (touch.classList.contains('modal-window')) closeModal();\r\n    });\r\n    \r\n    closemodalButtons.forEach((elem) => {\r\n        elem.addEventListener('click', closeModal);\r\n    })\r\n    \r\n    document.addEventListener('keydown', (e) => {\r\n        if (e.which === 27) {\r\n            closeModal();\r\n        }\r\n    });\r\n}\r\n\r\nburgerButton.addEventListener('click', openMenuburger);\r\ncloseBurger.addEventListener('click', closeMenuburger);\r\n\r\nfunction openMenuburger() {\r\n    wrapper.style.overflowY = 'hidden';\r\n    menuburgerModal.classList.remove('opened');\r\n    menuburgerModal.classList.remove('out');\r\n    menuburgerModal.classList.add('opened');\r\n    menuburgerModal.addEventListener('click', (e) => {\r\n        let touch = e.target;\r\n\r\n        if (touch.classList.contains('menuburger-wrapper')) closeMenuburger();\r\n    })\r\n};\r\n\r\nfunction closeMenuburger() {\r\n    menuburgerModal.classList.add('out');\r\n    wrapper.style.overflowY = 'auto';\r\n};\r\n\r\nfunction showAuthblock(animate) {\r\n    if (animate) {\r\n        modalBackground.classList.remove('reg');\r\n        modalBackground.classList.add('auth');\r\n    } else {\r\n        modalBackground.classList.remove('reg');\r\n        modalBackground.classList.remove('auth');\r\n    }\r\n    modalAuthorization.classList.add('rotate');\r\n    modalRegistration.classList.add('rotate');\r\n\r\n    resetForms();\r\n};\r\n\r\nfunction showRegBlock(animate) {\r\n    if (animate) {\r\n        modalBackground.classList.remove('auth');\r\n        modalBackground.classList.add('reg');\r\n    } else {\r\n        modalBackground.classList.remove('reg');\r\n        modalBackground.classList.remove('auth');\r\n    };\r\n    \r\n    modalAuthorization.classList.remove('rotate');\r\n    modalRegistration.classList.remove('rotate');\r\n\r\n    resetForms();\r\n};\r\n\r\nfunction closeModal() {\r\n    modalWindow.classList.add('out');\r\n    modalAuthorization.classList.remove('rotate');\r\n    modalRegistration.classList.remove('rotate');\r\n    wrapper.style.overflowY = 'auto';\r\n\r\n    resetForms();\r\n};\r\n\r\nfunction resetForms() {\r\n    let forms = Array.from(document.forms);\r\n    forms.forEach((elem) => {\r\n        elem.reset();\r\n    })\r\n    removeError();\r\n};\r\n\r\n\r\n\r\nmodalForms.forEach((elem) => {\r\n    elem.addEventListener('click', (e) => {\r\n        focusInput(e);\r\n    });\r\n\r\n    elem.addEventListener('keyup', (e) => {\r\n        if (e.which === 9) {\r\n            focusInput(e);\r\n        }\r\n    });\r\n})\r\n\r\n\r\n\r\nfunction focusInput(event) {\r\n    let touch = event.target;\r\n    \r\n    if (touch.classList.contains('modal__form-input')) {\r\n        let parent = touch.parentElement;\r\n        if (parent.classList.contains('error')) {\r\n            parent.classList.remove('error');\r\n            if (touch.getAttribute('name') === 'surname') {\r\n                parent.children[0].textContent = 'Фамилия';\r\n            }\r\n            if (touch.getAttribute('name') === 'name') {\r\n                parent.children[0].textContent = 'Имя';\r\n            }\r\n            if (touch.getAttribute('name') === 'email') {\r\n                parent.children[0].textContent = 'Email';\r\n            }\r\n            if (touch.getAttribute('name') === 'password') {\r\n                parent.children[0].textContent = 'Пароль';\r\n            }\r\n        }\r\n        parent.classList.add('focus');\r\n        touch.onfocus = () => {\r\n            if (!parent.classList.contains('focus')) parent.classList.add('focus');\r\n        };\r\n        touch.onblur = () => {\r\n            parent.classList.remove('focus');\r\n        };\r\n    }\r\n};\r\n\r\nfunction removeError() {\r\n    surnameInput.parentElement.children[0].textContent = 'Фамилия';\r\n    surnameInput.parentElement.classList.remove('error');\r\n    nameInput.parentElement.children[0].textContent = 'Имя';\r\n    nameInput.parentElement.classList.remove('error');\r\n    emailInputs[0].parentElement.children[0].textContent = 'Email';\r\n    emailInputs[0].parentElement.classList.remove('error');\r\n    emailInputs[1].parentElement.children[0].textContent = 'Email';\r\n    emailInputs[1].parentElement.classList.remove('error');\r\n    passwordInputs[0].parentElement.children[0].textContent = 'Пароль';\r\n    passwordInputs[0].parentElement.classList.remove('error');\r\n    passwordInputs[1].parentElement.children[0].textContent = 'Пароль';\r\n    passwordInputs[1].parentElement.classList.remove('error');\r\n    checkInput1.parentElement.classList.remove('error');\r\n    checkInput2.parentElement.classList.remove('error');\r\n};\n\n//# sourceURL=webpack://coursework/./source/js/modules/modals.js?");

/***/ }),

/***/ "./source/js/modules/regForm.js":
/*!**************************************!*\
  !*** ./source/js/modules/regForm.js ***!
  \**************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./autoAuthorizate.js */ \"./source/js/modules/autoAuthorizate.js\");\n\r\n\r\nif ((0,_autoAuthorizate_js__WEBPACK_IMPORTED_MODULE_0__.htmlName)() !== 'registered.html') {\r\n    const form = document.querySelector('#registration-form'),\r\n        surnameInput = document.querySelector('#surname-input'),\r\n        nameInput = document.querySelector('#name-input'),\r\n        emailInputs = document.querySelectorAll('#email-input'),\r\n        passwordInputs = document.querySelectorAll('#password-input'),\r\n        checkInput = document.querySelector('#agreement'),\r\n        modalWindow = document.querySelector('.modal-window'),\r\n        modalRegistration = document.querySelector('.modal-registration'),\r\n        modalAuthorization = document.querySelector('.modal-authorization'),\r\n        wrapper = document.querySelector('.wrapper');\r\n\r\n    if (!localStorage.getItem('accounts')) {\r\n        let adminData = {\r\n            surname: 'Systemi',\r\n            name: 'Vrag',\r\n            email: 'AdminKrutoy@gmail.com',\r\n            password: 'qwertyAdmin001',\r\n            points: 99999999,\r\n            role: 'Admin',\r\n            autoAuth: false\r\n        };\r\n        let accounts = [adminData];\r\n\r\n        localStorage.setItem('accounts', JSON.stringify(accounts));\r\n    }\r\n\r\n    form.addEventListener('submit', registrateFormdata);\r\n\r\n    async function registrateFormdata(e) {\r\n        e.preventDefault();\r\n        let submitForm = e.target;\r\n        let submitButton = submitForm.children[submitForm.children.length - 1];\r\n\r\n        if (validateForm()) {\r\n            let accounts = JSON.parse(localStorage.getItem('accounts'));\r\n            let formData = new FormData(form);\r\n            let obj = {};\r\n\r\n            for(let item of formData.entries()) {\r\n                obj[item[0]] = item[1];\r\n            }\r\n            obj.points = 0;\r\n            obj.favorite = [];\r\n            obj.autoAuth = false;\r\n\r\n            for (let i = 0; i < accounts.length; i++) {\r\n                if (accounts[i].email === obj.email) {\r\n                    emailInputs[0].parentElement.classList.add('error');\r\n                    emailInputs[0].parentElement.children[0].textContent = 'Данный email-адрес уже зарегистрирован';\r\n\r\n                    surnameInput.value = '';\r\n                    nameInput.value = '';\r\n                    passwordInputs[0].value = '';\r\n                    checkInput.checked = false;\r\n\r\n                    return;\r\n                }\r\n            }\r\n            accounts.push(obj);\r\n            localStorage.setItem('accounts', JSON.stringify(accounts));\r\n            submitButton.value = 'Регистрация завершена';\r\n            submitButton.classList.add('success');\r\n            setTimeout(() => {\r\n                closeModal();\r\n                submitButton.classList.remove('success');\r\n                submitButton.value = 'Зарегистрироваться';\r\n            }, 2000);\r\n\r\n            form.reset();\r\n\r\n            return;\r\n        }\r\n\r\n        submitButton.value = 'Ошибка';\r\n        submitButton.classList.add('failed');\r\n        setTimeout(() => {\r\n            submitButton.classList.remove('failed');\r\n            submitButton.value = 'Зарегистрироваться';\r\n        }, 2000);\r\n        checkInput.checked = false;\r\n    };\r\n\r\n    function validateForm() {\r\n        let errors = 0;\r\n\r\n        validateInput(/^[А-ЯёЁ]{1}[а-я]{1}[а-я]+$/, nameInput);\r\n        validateInput(/^[А-ЯёЁ]{1}[а-я]{1}[а-я]+$/, surnameInput);\r\n        validateInput(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/, emailInputs[0]);\r\n        validateInput(/^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{8,}$/, passwordInputs[0]);\r\n\r\n        function validateInput(pattern, input) {\r\n            let inputValue = input.value.trim();\r\n            if (!pattern.test(inputValue)) {\r\n                input.value = '';\r\n                let parent = input.parentElement;\r\n                parent.classList.add('error');\r\n\r\n                if (input.getAttribute('name') === 'surname' || input.getAttribute('name') === 'name') {\r\n                    parent.children[0].textContent = 'Только буквы русского алфавита';\r\n                }\r\n                if (input.getAttribute('name') === 'email') {\r\n                    parent.children[0].textContent = 'Имя почтового ящика, @, доменное имя (раздел. \".\")';\r\n                }\r\n                if (input.getAttribute('name') === 'password') {\r\n                    parent.children[0].textContent = 'Минимум 8 символов, 1 буква лат. алфавита и 1 цифра';\r\n                }\r\n\r\n                errors++;\r\n            }\r\n\r\n            return errors;\r\n        };\r\n\r\n        if (errors > 0) {\r\n            return false;\r\n        } else {\r\n            return true;\r\n        }\r\n    };\r\n\r\n    function closeModal() {\r\n        modalWindow.classList.add('out');\r\n        modalAuthorization.classList.remove('rotate');\r\n        modalRegistration.classList.remove('rotate');\r\n        wrapper.style.overflowY = 'auto';\r\n    };\r\n}\n\n//# sourceURL=webpack://coursework/./source/js/modules/regForm.js?");

/***/ }),

/***/ "./source/js/modules/scroll.js":
/*!*************************************!*\
  !*** ./source/js/modules/scroll.js ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\nwindow.scroll({                   // Подумать насчет скролла, нативный способ не работает\r\n    behavior: 'smooth'\r\n});\n\n//# sourceURL=webpack://coursework/./source/js/modules/scroll.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./source/js/app.js");
/******/ 	
/******/ })()
;